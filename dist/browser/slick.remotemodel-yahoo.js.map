{
  "version": 3,
  "sources": ["../../src/slick.remotemodel-yahoo.js"],
  "sourcesContent": ["(function ($) {\n  /***\n   * A sample AJAX data store implementation.\n   * Right now, it's hooked up to load Hackernews stories, but can\n   * easily be extended to support any JSONP-compatible backend that accepts paging parameters.\n   */\n  function RemoteModel() {\n    // private\n    var PAGESIZE = 10;\n    var data = {length: 0};\n    var h_request = null;\n    var req = null; // ajax request\n\n    // events\n    var onDataLoading = new Slick.Event();\n    var onDataLoaded = new Slick.Event();\n\n\n    function init() {\n    }\n\n\n    function isDataLoaded(from, to) {\n      for (var i = from; i <= to; i++) {\n        if (data[i] == undefined || data[i] == null) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n\n    function clear() {\n      for (var key in data) {\n        delete data[key];\n      }\n      data.length = 0;\n    }\n\n    function ensureData(from, to) {\n      if (req) {\n        req.abort();\n        for (var i = req.fromPage; i <= req.toPage; i++) {\n          data[i * PAGESIZE] = undefined;\n        }\n      }\n\n      if (from < 0) {\n        from = 0;\n      }\n\n      if (data.length > 0) {\n        to = Math.min(to, data.length - 1);\n      }\n\n      var fromPage = Math.floor(from / PAGESIZE);\n      var toPage = Math.floor(to / PAGESIZE);\n\n      while (data[fromPage * PAGESIZE] !== undefined && fromPage < toPage)\n        fromPage++;\n\n      while (data[toPage * PAGESIZE] !== undefined && fromPage < toPage)\n        toPage--;\n\n      if (fromPage > toPage || ((fromPage == toPage) && data[fromPage * PAGESIZE] !== undefined)) {\n        // TODO:  look-ahead\n        onDataLoaded.notify({from: from, to: to});\n        return;\n      }\n\n      var recStart = (fromPage * PAGESIZE);\n      var recCount = (((toPage - fromPage) * PAGESIZE) + PAGESIZE);\n\n      var url = \"https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20rss\"\n        + \"(\" + recStart + \"%2C\" + recCount + \")\"\n        + \"%20where%20url%3D%22http%3A%2F%2Frss.news.yahoo.com%2Frss%2Ftopstories%22\"\n        + \"&format=json\";\n\n      if (h_request != null) {\n        clearTimeout(h_request);\n      }\n\n      h_request = setTimeout(function () {\n        for (var i = fromPage; i <= toPage; i++)\n          data[i * PAGESIZE] = null; // null indicates a 'requested but not available yet'\n\n        onDataLoading.notify({from: from, to: to});\n\n        req = $.jsonp({\n          url: url,\n          callbackParameter: \"callback\",\n          cache: true,\n          success: function (json, textStatus, xOptions) {\n            onSuccess(json, recStart);\n          },\n          error: function () {\n            onError(fromPage, toPage);\n          }\n        });\n\n        req.fromPage = fromPage;\n        req.toPage = toPage;\n      }, 50);\n    }\n\n\n    function onError(fromPage, toPage) {\n      alert(\"error loading pages \" + fromPage + \" to \" + toPage);\n    }\n\n// SAMPLE DATA\n//    {\n//      \"query\": {\n//        \"count\": 40,\n//        \"created\": \"2015-03-03T00:34:00Z\",\n//        \"lang\": \"en-US\",\n//        \"results\": {\n//          \"item\": [\n//            {\n//              \"title\": \"Netanyahu assails Iran deal, touts US-Israel ties\",\n//              \"description\": \"<p><a href=\\\"http://news.yahoo.com/netanyahu-us-officials-face-off-iran-133539021--politics.html\\\"><img src=\\\"http://l2.yimg.com/bt/api/res/1.2/4eoBxbJStrbGAKbmBYOJfg--/YXBwaWQ9eW5ld3M7Zmk9ZmlsbDtoPTg2O3E9NzU7dz0xMzA-/http://media.zenfs.com/en_us/News/ap_webfeeds/2f3a20c2d46d9f096f0f6a706700d430.jpg\\\" width=\\\"130\\\" height=\\\"86\\\" alt=\\\"Israeli Prime Minister Benjamin Netanyahu addresses the 2015 American Israel Public Affairs Committee (AIPAC) Policy Conference in Washington, Monday, March 2, 2015. (AP Photo/Cliff Owen)\\\" align=\\\"left\\\" title=\\\"Israeli Prime Minister Benjamin Netanyahu addresses the 2015 American Israel Public Affairs Committee (AIPAC) Policy Conference in Washington, Monday, March 2, 2015. (AP Photo/Cliff Owen)\\\" border=\\\"0\\\" /></a>WASHINGTON (AP) \u2014 Seeking to lower tensions, Benjamin Netanyahu and U.S. officials cast their dispute over Iran as a family squabble on Monday, even as the Israeli leader claimed President Barack Obama did not \u2014 and could not \u2014 fully understand his nation&#039;s vital security concerns.</p><br clear=\\\"all\\\"/>\",\n//              \"link\": \"http://news.yahoo.com/netanyahu-us-officials-face-off-iran-133539021--politics.html\",\n//              \"pubDate\": \"Mon, 02 Mar 2015 19:17:36 -0500\",\n//              \"source\": {\n//                \"url\": \"http://www.ap.org/\",\n//                \"content\": \"Associated Press\"\n//              },\n//              \"guid\": {\n//                \"isPermaLink\": \"false\",\n//                \"content\": \"netanyahu-us-officials-face-off-iran-133539021--politics\"\n//              },\n//              \"content\": {\n//                \"height\": \"86\",\n//                \"type\": \"image/jpeg\",\n//                \"url\": \"http://l2.yimg.com/bt/api/res/1.2/4eoBxbJStrbGAKbmBYOJfg--/YXBwaWQ9eW5ld3M7Zmk9ZmlsbDtoPTg2O3E9NzU7dz0xMzA-/http://media.zenfs.com/en_us/News/ap_webfeeds/2f3a20c2d46d9f096f0f6a706700d430.jpg\",\n//                \"width\": \"130\"\n//              },\n//              \"text\": {\n//                \"type\": \"html\",\n//                \"content\": \"<p><a href=\\\"http://news.yahoo.com/netanyahu-us-officials-face-off-iran-133539021--politics.html\\\"><img src=\\\"http://l2.yimg.com/bt/api/res/1.2/4eoBxbJStrbGAKbmBYOJfg--/YXBwaWQ9eW5ld3M7Zmk9ZmlsbDtoPTg2O3E9NzU7dz0xMzA-/http://media.zenfs.com/en_us/News/ap_webfeeds/2f3a20c2d46d9f096f0f6a706700d430.jpg\\\" width=\\\"130\\\" height=\\\"86\\\" alt=\\\"Israeli Prime Minister Benjamin Netanyahu addresses the 2015 American Israel Public Affairs Committee (AIPAC) Policy Conference in Washington, Monday, March 2, 2015. (AP Photo/Cliff Owen)\\\" align=\\\"left\\\" title=\\\"Israeli Prime Minister Benjamin Netanyahu addresses the 2015 American Israel Public Affairs Committee (AIPAC) Policy Conference in Washington, Monday, March 2, 2015. (AP Photo/Cliff Owen)\\\" border=\\\"0\\\" /></a>WASHINGTON (AP) \u2014 Seeking to lower tensions, Benjamin Netanyahu and U.S. officials cast their dispute over Iran as a family squabble on Monday, even as the Israeli leader claimed President Barack Obama did not \u2014 and could not \u2014 fully understand his nation&#039;s vital security concerns.</p><br clear=\\\"all\\\"/>\"\n//              },\n//              \"credit\": {\n//                \"role\": \"publishing company\"\n//              }\n//            },\n//            {... },\n//            {... },\n//          ]\n//        }\n//      }\n//    }\n\n    function onSuccess(json, recStart) {\n      var recEnd = recStart;\n      if (json.query.count > 0) {\n        var results = json.query.results.item;\n        recEnd = recStart + results.length;\n        data.length = 100;// Math.min(parseInt(results.length),1000); // limitation of the API\n\n        for (var i = 0; i < results.length; i++) {\n          var item = results[i];\n\n          item.pubDate = new Date(item.pubDate);\n\n          data[recStart + i] = { index: recStart + i };\n          data[recStart + i].pubDate = item.pubDate;\n          data[recStart + i].title = item.title;\n          data[recStart + i].url = item.link;\n          data[recStart + i].text = item.description;\n        }\n      }\n      req = null;\n\n      onDataLoaded.notify({from: recStart, to: recEnd});\n    }\n\n\n    function reloadData(from, to) {\n      for (var i = from; i <= to; i++)\n        delete data[i];\n\n      ensureData(from, to);\n    }\n\n    init();\n\n    return {\n      // properties\n      \"data\": data,\n\n      // methods\n      \"clear\": clear,\n      \"isDataLoaded\": isDataLoaded,\n      \"ensureData\": ensureData,\n      \"reloadData\": reloadData,\n\n      // events\n      \"onDataLoading\": onDataLoading,\n      \"onDataLoaded\": onDataLoaded\n    };\n  }\n\n  // exports\n  $.extend(true, window, { \n    Slick: { \n      Data: { \n        RemoteModel: RemoteModel \n      }\n    }\n  });\n})(jQuery);\n"],
  "mappings": "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",
  "names": ["i"]
}
