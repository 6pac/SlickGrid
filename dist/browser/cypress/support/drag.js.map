{
  "version": 3,
  "sources": ["../../../../cypress/support/drag.ts"],
  "sourcesContent": ["import { convertPosition } from './common';\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  namespace Cypress {\n    interface Chainable {\n      // triggerHover: (elements: NodeListOf<HTMLElement>) => void;\n      dragOutside(viewport?: string, ms?: number, px?: number, options?: { parentSelector?: string, scrollbarDimension?: number; }): Chainable<HTMLElement>;\n      dragStart(options?: { cellWidth?: number; cellHeight?: number; prevSubject: boolean; }): Chainable<HTMLElement>;\n      dragCell(addRow: number, addCell: number, options?: { cellWidth?: number; cellHeight?: number; }): Chainable<HTMLElement>;\n      dragEnd(gridSelector?: string): Chainable<HTMLElement>;\n    }\n  }\n}\n\nCypress.Commands.add('dragStart', { prevSubject: true }, (subject, { cellWidth = 80, cellHeight = 25 } = {}) => {\n  return cy.wrap(subject).click({ force: true })\n    .trigger('mousedown', { which: 1 })\n    .trigger('mousemove', cellWidth / 3, cellHeight / 3);\n})\n\n// use a different command name than \"drag\" so that it doesn't conflict with the \"@4tw/cypress-drag-drop\" lib\nCypress.Commands.add('dragCell', { prevSubject: true }, (subject, addRow, addCell, { cellWidth = 80, cellHeight = 25 } = {}) => {\n  return cy.wrap(subject).trigger('mousemove', cellWidth * (addCell + 0.5), cellHeight * (addRow + 0.5), { force: true });\n})\n\nCypress.Commands.add('dragOutside', (viewport = 'topLeft', ms = 0, px = 0, { parentSelector = 'div[class^=\"slickgrid_\"]', scrollbarDimension = 17 } = {}) => {\n  const $parent = cy.$$(parentSelector);\n  const gridWidth = $parent.width();\n  const gridHeight = $parent.height();\n  let x = gridWidth / 2;\n  let y = gridHeight / 2;\n  const position = convertPosition(viewport);\n  if (position.x === 'left') {\n    x = -px;\n  } else if (position.x === 'right') {\n    x = gridWidth - scrollbarDimension + 3 + px;\n  }\n  if (position.y === 'top') {\n    y = -px;\n  } else if (position.y === 'bottom') {\n    y = gridHeight - scrollbarDimension + 3 + px;\n  }\n\n  cy.get(parentSelector).trigger('mousemove', x, y, { force: true });\n  if (ms) {\n    cy.wait(ms);\n  }\n  return;\n})\n\nCypress.Commands.add('dragEnd', { prevSubject: 'optional' }, (subject, gridSelector = 'div[class^=\"slickgrid_\"]') => {\n  cy.get(gridSelector).trigger('mouseup', { force: true });\n  return;\n})\n\nexport function getScrollDistanceWhenDragOutsideGrid(selector, viewport, dragDirection, fromRow, fromCol, px = 100) {\n  return (cy as any).convertPosition(viewport).then((_viewportPosition: { x: number; y: number; }) => {\n    const viewportSelector = `${selector} .slick-viewport-${_viewportPosition.x}.slick-viewport-${_viewportPosition.y}`;\n    (cy as any).getCell(fromRow, fromCol, viewport, { parentSelector: selector })\n      .dragStart();\n    return cy.get(viewportSelector).then($viewport => {\n      const scrollTopBefore = $viewport.scrollTop();\n      const scrollLeftBefore = $viewport.scrollLeft();\n      cy.dragOutside(dragDirection, 300, px, { parentSelector: selector });\n      return cy.get(viewportSelector).then($viewportAfter => {\n        cy.dragEnd(selector);\n        const scrollTopAfter = $viewportAfter.scrollTop();\n        const scrollLeftAfter = $viewportAfter.scrollLeft();\n        cy.get(viewportSelector).scrollTo(0, 0, { ensureScrollable: false });\n        return cy.wrap({\n          scrollTopBefore,\n          scrollLeftBefore,\n          scrollTopAfter,\n          scrollLeftAfter\n        });\n      });\n    });\n  });\n}\n"],
  "mappings": ";;AAeA,UAAQ,SAAS,IAAI,aAAa,EAAE,aAAa,GAAK,GAAG,CAAC,SAAS,EAAE,YAAY,IAAI,aAAa,GAAG,IAAI,CAAC,MACjG,GAAG,KAAK,OAAO,EAAE,MAAM,EAAE,OAAO,GAAK,CAAC,EAC1C,QAAQ,aAAa,EAAE,OAAO,EAAE,CAAC,EACjC,QAAQ,aAAa,YAAY,GAAG,aAAa,CAAC,CACtD;AAGD,UAAQ,SAAS,IAAI,YAAY,EAAE,aAAa,GAAK,GAAG,CAAC,SAAS,QAAQ,SAAS,EAAE,YAAY,IAAI,aAAa,GAAG,IAAI,CAAC,MACjH,GAAG,KAAK,OAAO,EAAE,QAAQ,aAAa,aAAa,UAAU,MAAM,cAAc,SAAS,MAAM,EAAE,OAAO,GAAK,CAAC,CACvH;AAED,UAAQ,SAAS,IAAI,eAAe,CAAC,WAAW,WAAW,KAAK,GAAG,KAAK,GAAG,EAAE,iBAAiB,4BAA4B,qBAAqB,GAAG,IAAI,CAAC,MAAM;AAC3J,QAAM,UAAU,GAAG,GAAG,cAAc,GAC9B,YAAY,QAAQ,MAAM,GAC1B,aAAa,QAAQ,OAAO,GAC9B,IAAI,YAAY,GAChB,IAAI,aAAa,GACf,WAAW,SAAgB,QAAQ;AACzC,IAAI,SAAS,MAAM,SACjB,IAAI,CAAC,KACI,SAAS,MAAM,YACxB,IAAI,YAAY,qBAAqB,IAAI,KAEvC,SAAS,MAAM,QACjB,IAAI,CAAC,KACI,SAAS,MAAM,aACxB,IAAI,aAAa,qBAAqB,IAAI,KAG5C,GAAG,IAAI,cAAc,EAAE,QAAQ,aAAa,GAAG,GAAG,EAAE,OAAO,GAAK,CAAC,GAC7D,MACF,GAAG,KAAK,EAAE;AAAA,EAGd,CAAC;AAED,UAAQ,SAAS,IAAI,WAAW,EAAE,aAAa,WAAW,GAAG,CAAC,SAAS,eAAe,+BAA+B;AACnH,OAAG,IAAI,YAAY,EAAE,QAAQ,WAAW,EAAE,OAAO,GAAK,CAAC;AAAA,EAEzD,CAAC;AAEM,WAAS,qCAAqC,UAAU,UAAU,eAAe,SAAS,SAAS,KAAK,KAAK;AAClH,WAAQ,GAAW,gBAAgB,QAAQ,EAAE,KAAK,CAAC,sBAAiD;AAClG,UAAM,mBAAmB,GAAG,QAAQ,oBAAoB,kBAAkB,CAAC,mBAAmB,kBAAkB,CAAC;AACjH,aAAC,GAAW,QAAQ,SAAS,SAAS,UAAU,EAAE,gBAAgB,SAAS,CAAC,EACzE,UAAU,GACN,GAAG,IAAI,gBAAgB,EAAE,KAAK,eAAa;AAChD,YAAM,kBAAkB,UAAU,UAAU,GACtC,mBAAmB,UAAU,WAAW;AAC9C,kBAAG,YAAY,eAAe,KAAK,IAAI,EAAE,gBAAgB,SAAS,CAAC,GAC5D,GAAG,IAAI,gBAAgB,EAAE,KAAK,oBAAkB;AACrD,aAAG,QAAQ,QAAQ;AACnB,cAAM,iBAAiB,eAAe,UAAU,GAC1C,kBAAkB,eAAe,WAAW;AAClD,oBAAG,IAAI,gBAAgB,EAAE,SAAS,GAAG,GAAG,EAAE,kBAAkB,GAAM,CAAC,GAC5D,GAAG,KAAK;AAAA,YACb;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACF,CAAC;AAAA,QACH,CAAC;AAAA,MACH,CAAC;AAAA,IACH,CAAC;AAAA,EACH;",
  "names": []
}
