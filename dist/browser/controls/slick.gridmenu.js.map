{
  "version": 3,
  "sources": ["../../../src/controls/slick.gridmenu.ts"],
  "sourcesContent": ["import type {\r\n  Column,\r\n  DOMMouseOrTouchEvent,\r\n  GridMenuCommandItemCallbackArgs,\r\n  GridMenuEventWithElementCallbackArgs,\r\n  GridMenuItem,\r\n  GridMenuOption,\r\n  GridOption,\r\n  MenuCommandItem,\r\n  onGridMenuColumnsChangedCallbackArgs\r\n} from '../models/index.js';\r\nimport { BindingEventService as BindingEventService_, SlickEvent as SlickEvent_, Utils as Utils_ } from '../slick.core.js';\r\nimport type { SlickGrid } from '../slick.grid.js';\r\n\r\n// for (iife) load Slick methods from global Slick object, or use imports for (esm)\r\nconst BindingEventService = IIFE_ONLY ? Slick.BindingEventService : BindingEventService_;\r\nconst SlickEvent = IIFE_ONLY ? Slick.Event : SlickEvent_;\r\nconst Utils = IIFE_ONLY ? Slick.Utils : Utils_;\r\n\r\n/**\r\n * A control to add a Grid Menu (hambuger menu on top-right of the grid)\r\n *\r\n * USAGE:\r\n *\r\n * Add the slick.gridmenu.(js|css) files and register it with the grid.\r\n *\r\n * To specify a menu in a column header, extend the column definition like so:\r\n * let gridMenuControl = new Slick.Controls.GridMenu(columns, grid, options);\r\n *\r\n * Available grid options, by defining a gridMenu object:\r\n *\r\n *  let options = {\r\n *    enableCellNavigation: true,\r\n *    gridMenu: {\r\n *      commandTitle: \"Command List\",                // default to empty string\r\n *      columnTitle: \"Columns\",                     // default to empty string\r\n *      iconImage: \"some-image.png\",                // this is the Grid Menu icon (hamburger icon)\r\n *      iconCssClass: \"fa fa-bars\",                 // you can provide iconImage OR iconCssClass\r\n *      leaveOpen: false,                           // do we want to leave the Grid Menu open after a command execution? (false by default)\r\n *      menuWidth: 18,                              // width (icon) that will be use to resize the column header container (18 by default)\r\n *      contentMinWidth: 0,\t\t\t\t\t\t\t            // defaults to 0 (auto), minimum width of grid menu content (command, column list)\r\n *      marginBottom: 15,                           // defaults to 15, margin to use at the bottom of the grid when using max-height (default)\r\n *      resizeOnShowHeaderRow: false,               // false by default\r\n *      showButton: true,                           // true by default - it allows the user to control if the\r\n *                                                          // default gridMenu button (located on the top right corner by default CSS)\r\n *                                                          // should be created or omitted\r\n *      useClickToRepositionMenu: true,             // true by default\r\n *\r\n *      // the last 2 checkboxes titles\r\n *      hideForceFitButton: false,                  // show/hide checkbox near the end \"Force Fit Columns\"\r\n *      hideSyncResizeButton: false,                // show/hide checkbox near the end \"Synchronous Resize\"\r\n *      forceFitTitle: \"Force fit columns\",         // default to \"Force fit columns\"\r\n *      syncResizeTitle: \"Synchronous resize\",      // default to \"Synchronous resize\"\r\n *\r\n *      commandItems: [\r\n *        {\r\n *          // command menu item options\r\n *        },\r\n *        {\r\n *          // command menu item options\r\n *        }\r\n *      ]\r\n *    }\r\n *  };\r\n *\r\n *\r\n * Available menu options:\r\n *    hideForceFitButton:         Hide the \"Force fit columns\" button (defaults to false)\r\n *    hideSyncResizeButton:       Hide the \"Synchronous resize\" button (defaults to false)\r\n *    forceFitTitle:              Text of the title \"Force fit columns\"\r\n *    contentMinWidth:\t\t\t\t\t\tminimum width of grid menu content (command, column list), defaults to 0 (auto)\r\n *    height:                     Height of the Grid Menu content, when provided it will be used instead of the max-height (defaults to undefined)\r\n *    menuWidth:                  Grid menu button width (defaults to 18)\r\n *    resizeOnShowHeaderRow:      Do we want to resize on the show header row event\r\n *    syncResizeTitle:            Text of the title \"Synchronous resize\"\r\n *    useClickToRepositionMenu:   Use the Click offset to reposition the Grid Menu (defaults to true), when set to False it will use the icon offset to reposition the grid menu\r\n *    menuUsabilityOverride:      Callback method that user can override the default behavior of enabling/disabling the menu from being usable (must be combined with a custom formatter)\r\n *    marginBottom:               Margin to use at the bottom of the grid menu, only in effect when height is undefined (defaults to 15)\r\n *    subItemChevronClass:        CSS class that can be added on the right side of a sub-item parent (typically a chevron-right icon)\r\n *    subMenuOpenByEvent:         defaults to \"mouseover\", what event type shoud we use to open sub-menu(s), 2 options are available: \"mouseover\" or \"click\"\r\n *\r\n * Available command menu item options:\r\n *    action:                     Optionally define a callback function that gets executed when item is chosen (and/or use the onCommand event)\r\n *    title:                      Menu item text.\r\n *    divider:                    Whether the current item is a divider, not an actual command.\r\n *    disabled:                   Whether the item/command is disabled.\r\n *    hidden:                     Whether the item/command is hidden.\r\n *    tooltip:                    Item tooltip.\r\n *    command:                    A command identifier to be passed to the onCommand event handlers.\r\n *    cssClass:                   A CSS class to be added to the menu item container.\r\n *    iconCssClass:               A CSS class to be added to the menu item icon.\r\n *    iconImage:                  A url to the icon image.\r\n *    textCssClass:               A CSS class to be added to the menu item text.\r\n *    subMenuTitle:               Optional sub-menu title that will shows up when sub-menu commmands/options list is opened\r\n *    subMenuTitleCssClass:       Optional sub-menu title CSS class to use with `subMenuTitle`\r\n *    itemVisibilityOverride:     Callback method that user can override the default behavior of showing/hiding an item from the list\r\n *    itemUsabilityOverride:      Callback method that user can override the default behavior of enabling/disabling an item from the list\r\n *\r\n *\r\n * The plugin exposes the following events:\r\n *\r\n *    onAfterMenuShow:   Fired after the menu is shown.  You can customize the menu or dismiss it by returning false.\r\n *      * ONLY works with a JS event (as per slick.core code), so we cannot notify when it's a button event (when grid menu is attached to an external button, not the hamburger menu)\r\n *        Event args:\r\n *            grid:     Reference to the grid.\r\n *            column:   Column definition.\r\n *            menu:     Menu options.  Note that you can change the menu items here.\r\n *\r\n *    onBeforeMenuShow:   Fired before the menu is shown.  You can customize the menu or dismiss it by returning false.\r\n *      * ONLY works with a JS event (as per slick.core code), so we cannot notify when it's a button event (when grid menu is attached to an external button, not the hamburger menu)\r\n *        Event args:\r\n *            grid:     Reference to the grid.\r\n *            column:   Column definition.\r\n *            menu:     Menu options.  Note that you can change the menu items here.\r\n *\r\n *    onMenuClose:      Fired when the menu is closing.\r\n *        Event args:\r\n *            grid:     Reference to the grid.\r\n *            column:   Column definition.\r\n *            menu:     Menu options.  Note that you can change the menu items here.\r\n *\r\n *    onCommand:    Fired on menu item click for buttons with 'command' specified.\r\n *        Event args:\r\n *            grid:     Reference to the grid.\r\n *            column:   Column definition.\r\n *            command:  Button command identified.\r\n *            button:   Button options.  Note that you can change the button options in your\r\n *                      event handler, and the column header will be automatically updated to\r\n *                      reflect them.  This is useful if you want to implement something like a\r\n *                      toggle button.\r\n */\r\n\r\nexport class SlickGridMenu {\r\n  // --\r\n  // public API\r\n  onAfterMenuShow = new SlickEvent<GridMenuEventWithElementCallbackArgs>('onAfterMenuShow');\r\n  onBeforeMenuShow = new SlickEvent<GridMenuEventWithElementCallbackArgs>('onBeforeMenuShow');\r\n  onMenuClose = new SlickEvent<GridMenuEventWithElementCallbackArgs>('onMenuClose');\r\n  onCommand = new SlickEvent<GridMenuCommandItemCallbackArgs>('onCommand');\r\n  onColumnsChanged = new SlickEvent<onGridMenuColumnsChangedCallbackArgs>('onColumnsChanged');\r\n\r\n  // --\r\n  // protected props\r\n  protected _bindingEventService: BindingEventService_;\r\n  protected _gridOptions: GridOption;\r\n  protected _gridUid: string;\r\n  protected _isMenuOpen = false;\r\n  protected _columnCheckboxes: HTMLInputElement[] = [];\r\n  protected _columnTitleElm!: HTMLElement;\r\n  protected _commandTitleElm!: HTMLElement;\r\n  protected _commandListElm!: HTMLDivElement;\r\n  protected _headerElm: HTMLDivElement | null = null;\r\n  protected _listElm!: HTMLElement;\r\n  protected _buttonElm!: HTMLElement;\r\n  protected _menuElm!: HTMLElement;\r\n  protected _subMenuParentId = '';\r\n  protected _gridMenuOptions: GridMenuOption | null = null;\r\n  protected _defaults: GridMenuOption = {\r\n    showButton: true,\r\n    hideForceFitButton: false,\r\n    hideSyncResizeButton: false,\r\n    forceFitTitle: 'Force fit columns',\r\n    marginBottom: 15,\r\n    menuWidth: 18,\r\n    contentMinWidth: 0,\r\n    resizeOnShowHeaderRow: false,\r\n    subMenuOpenByEvent: 'mouseover',\r\n    syncResizeTitle: 'Synchronous resize',\r\n    useClickToRepositionMenu: true,\r\n    headerColumnValueExtractor: (columnDef: Column) => Utils.getHtmlStringOutput(columnDef.name || '', 'innerHTML'),\r\n  };\r\n\r\n  constructor(protected columns: Column[], protected readonly grid: SlickGrid, gridOptions: GridOption) {\r\n    this._gridUid = grid.getUID();\r\n    this._gridOptions = gridOptions;\r\n    this._gridMenuOptions = Utils.extend({}, this._defaults, gridOptions.gridMenu);\r\n    this._bindingEventService = new BindingEventService();\r\n\r\n    // when a grid optionally changes from a regular grid to a frozen grid, we need to destroy & recreate the grid menu\r\n    // we do this change because the Grid Menu is on the left container for a regular grid, it is however on the right container for a frozen grid\r\n    grid.onSetOptions.subscribe((_e, args) => {\r\n      if (args && args.optionsBefore && args.optionsAfter) {\r\n        const switchedFromRegularToFrozen = args.optionsBefore.frozenColumn! >= 0 && args.optionsAfter.frozenColumn === -1;\r\n        const switchedFromFrozenToRegular = args.optionsBefore.frozenColumn === -1 && args.optionsAfter.frozenColumn! >= 0;\r\n        if (switchedFromRegularToFrozen || switchedFromFrozenToRegular) {\r\n          this.recreateGridMenu();\r\n        }\r\n      }\r\n    });\r\n    this.init(this.grid);\r\n  }\r\n\r\n  init(grid: SlickGrid) {\r\n    this._gridOptions = grid.getOptions();\r\n    Utils.addSlickEventPubSubWhenDefined(grid.getPubSubService(), this);\r\n    this.createGridMenu();\r\n\r\n    if (this._gridMenuOptions?.customItems || this._gridMenuOptions?.customTitle) {\r\n      console.warn('[SlickGrid] Grid Menu \"customItems\" and \"customTitle\" were deprecated to align with other Menu plugins, please use \"commandItems\" and \"commandTitle\" instead.');\r\n    }\r\n\r\n    // subscribe to the grid, when it's destroyed, we should also destroy the Grid Menu\r\n    grid.onBeforeDestroy.subscribe(this.destroy.bind(this));\r\n  }\r\n\r\n  setOptions(newOptions: GridMenuOption) {\r\n    this._gridMenuOptions = Utils.extend({}, this._gridMenuOptions, newOptions);\r\n  }\r\n\r\n  protected createGridMenu() {\r\n    const gridMenuWidth = (this._gridMenuOptions?.menuWidth) || this._defaults.menuWidth;\r\n    if (this._gridOptions && this._gridOptions.hasOwnProperty('frozenColumn') && this._gridOptions.frozenColumn! >= 0) {\r\n      this._headerElm = document.querySelector(`.${this._gridUid} .slick-header-right`);\r\n    } else {\r\n      this._headerElm = document.querySelector(`.${this._gridUid} .slick-header-left`);\r\n    }\r\n    this._headerElm!.style.width = `calc(100% - ${gridMenuWidth}px)`;\r\n\r\n    // if header row is enabled, we need to resize its width also\r\n    const enableResizeHeaderRow = (Utils.isDefined(this._gridMenuOptions?.resizeOnShowHeaderRow)) ? this._gridMenuOptions!.resizeOnShowHeaderRow : this._defaults.resizeOnShowHeaderRow;\r\n    if (enableResizeHeaderRow && this._gridOptions.showHeaderRow) {\r\n      const headerRow = document.querySelector<HTMLDivElement>(`.${this._gridUid}.slick-headerrow`);\r\n      if (headerRow) {\r\n        headerRow.style.width = `calc(100% - ${gridMenuWidth}px)`;\r\n      }\r\n    }\r\n\r\n    const showButton = (this._gridMenuOptions?.showButton !== undefined) ? this._gridMenuOptions.showButton : this._defaults.showButton;\r\n    if (showButton) {\r\n      this._buttonElm = document.createElement('button');\r\n      this._buttonElm.className = 'slick-gridmenu-button';\r\n      this._buttonElm.ariaLabel = 'Grid Menu';\r\n\r\n      if (this._gridMenuOptions?.iconCssClass) {\r\n        this._buttonElm.classList.add(...Utils.classNameToList(this._gridMenuOptions.iconCssClass));\r\n      } else {\r\n        const iconImageElm = document.createElement('img');\r\n        iconImageElm.src = (this._gridMenuOptions?.iconImage) ? this._gridMenuOptions.iconImage : '../images/drag-handle.png';\r\n        this._buttonElm.appendChild(iconImageElm);\r\n      }\r\n\r\n      // add the grid menu button in the preheader (when exists) or always in the column header (default)\r\n      const buttonContainerTarget = this._gridMenuOptions?.iconButtonContainer === 'preheader' ? 'firstChild' : 'lastChild';\r\n      this._headerElm!.parentElement!.insertBefore(this._buttonElm, this._headerElm!.parentElement![buttonContainerTarget]);\r\n\r\n      // add on click handler for the Grid Menu itself\r\n      this._bindingEventService.bind(this._buttonElm, 'click', this.showGridMenu.bind(this) as EventListener);\r\n    }\r\n\r\n    this._menuElm = this.createMenu(0);\r\n    this.populateColumnPicker();\r\n    document.body.appendChild(this._menuElm);\r\n\r\n    // Hide the menu on outside click.\r\n    this._bindingEventService.bind(document.body, 'mousedown', this.handleBodyMouseDown.bind(this) as EventListener);\r\n\r\n    // destroy the picker if user leaves the page\r\n    this._bindingEventService.bind(document.body, 'beforeunload', this.destroy.bind(this));\r\n  }\r\n\r\n  /** Create the menu or sub-menu(s) but without the column picker which is a separate single process */\r\n  createMenu(level = 0, item?: GridMenuItem | MenuCommandItem | 'divider') {\r\n    // create a new cell menu\r\n    const maxHeight = isNaN(this._gridMenuOptions?.maxHeight as number) ? this._gridMenuOptions?.maxHeight : `${this._gridMenuOptions?.maxHeight ?? 0}px`;\r\n    const width = isNaN(this._gridMenuOptions?.width as number) ? this._gridMenuOptions?.width : `${this._gridMenuOptions?.maxWidth ?? 0}px`;\r\n\r\n    // to avoid having multiple sub-menu trees opened,\r\n    // we need to somehow keep trace of which parent menu the tree belongs to\r\n    // and we should keep ref of only the first sub-menu parent, we can use the command name (remove any whitespaces though)\r\n    const subMenuCommand = (item as GridMenuItem)?.command;\r\n    let subMenuId = (level === 1 && subMenuCommand) ? subMenuCommand.replaceAll(' ', '') : '';\r\n    if (subMenuId) {\r\n      this._subMenuParentId = subMenuId;\r\n    }\r\n    if (level > 1) {\r\n      subMenuId = this._subMenuParentId;\r\n    }\r\n\r\n    const menuClasses = `slick-gridmenu slick-menu-level-${level} ${this._gridUid}`;\r\n    const bodyMenuElm = document.body.querySelector<HTMLDivElement>(`.slick-gridmenu.slick-menu-level-${level}${this.getGridUidSelector()}`);\r\n\r\n    // return menu/sub-menu if it's already opened unless we are on different sub-menu tree if so close them all\r\n    if (bodyMenuElm) {\r\n      if (bodyMenuElm.dataset.subMenuParent === subMenuId) {\r\n        return bodyMenuElm;\r\n      }\r\n      this.destroySubMenus();\r\n    }\r\n\r\n    const menuElm = document.createElement('div');\r\n    menuElm.role = 'menu';\r\n    menuElm.className = menuClasses;\r\n    if (level > 0) {\r\n      menuElm.classList.add('slick-submenu');\r\n      if (subMenuId) {\r\n        menuElm.dataset.subMenuParent = subMenuId;\r\n      }\r\n    }\r\n    menuElm.ariaLabel = level > 1 ? 'SubMenu' : 'Grid Menu';\r\n\r\n    if (width) {\r\n      menuElm.style.width = width as string;\r\n    }\r\n    if (maxHeight) {\r\n      menuElm.style.maxHeight = maxHeight as string;\r\n    }\r\n\r\n    menuElm.style.display = 'none';\r\n\r\n    let closeButtonElm: HTMLButtonElement | null = null;\r\n    if (level === 0) {\r\n      closeButtonElm = document.createElement('button');\r\n      closeButtonElm.type = 'button';\r\n      closeButtonElm.className = 'close';\r\n      closeButtonElm.dataset.dismiss = 'slick-gridmenu';\r\n      closeButtonElm.ariaLabel = 'Close';\r\n\r\n      const spanCloseElm = document.createElement('span');\r\n      spanCloseElm.className = 'close';\r\n      spanCloseElm.ariaHidden = 'true';\r\n      spanCloseElm.textContent = '\u00D7';\r\n      closeButtonElm.appendChild(spanCloseElm);\r\n      menuElm.appendChild(closeButtonElm);\r\n    }\r\n\r\n    // -- Command List section\r\n    this._commandListElm = document.createElement('div');\r\n    this._commandListElm.className = `slick-gridmenu-custom slick-gridmenu-command-list slick-menu-level-${level}`;\r\n    this._commandListElm.role = 'menu';\r\n    menuElm.appendChild(this._commandListElm);\r\n\r\n    const commandItems =\r\n      (item as GridMenuItem)?.commandItems\r\n      ?? (item as GridMenuItem)?.customItems\r\n      ?? this._gridMenuOptions?.commandItems\r\n      ?? this._gridMenuOptions?.customItems\r\n      ?? [];\r\n\r\n    if (commandItems.length > 0) {\r\n\r\n      // when creating sub-menu add its sub-menu title when exists\r\n      if (item && level > 0) {\r\n        this.addSubMenuTitleWhenExists(item, this._commandListElm); // add sub-menu title when exists\r\n      }\r\n    }\r\n    this.populateCommandsMenu(commandItems, this._commandListElm, { grid: this.grid, level });\r\n\r\n    // increment level for possible next sub-menus if exists\r\n    level++;\r\n\r\n    return menuElm;\r\n  }\r\n\r\n  /** Destroy the plugin by unsubscribing every events & also delete the menu DOM elements */\r\n  destroy() {\r\n    this.onAfterMenuShow.unsubscribe();\r\n    this.onBeforeMenuShow.unsubscribe();\r\n    this.onMenuClose.unsubscribe();\r\n    this.onCommand.unsubscribe();\r\n    this.onColumnsChanged.unsubscribe();\r\n    this.grid.onColumnsReordered.unsubscribe(this.updateColumnOrder.bind(this));\r\n    this.grid.onBeforeDestroy.unsubscribe();\r\n    this.grid.onSetOptions.unsubscribe();\r\n    this._bindingEventService.unbindAll();\r\n    this._menuElm?.remove();\r\n    this.deleteMenu();\r\n  }\r\n\r\n  /** Delete the menu DOM element but without unsubscribing any events */\r\n  deleteMenu() {\r\n    this._bindingEventService.unbindAll();\r\n    const gridMenuElm = document.querySelector<HTMLDivElement>(`div.slick-gridmenu.${this._gridUid}`);\r\n    if (gridMenuElm) {\r\n      gridMenuElm.style.display = 'none';\r\n    }\r\n    if (this._headerElm) {\r\n      // put back original width (fixes width and frozen+gridMenu on left header)\r\n      this._headerElm.style.width = '100%';\r\n    }\r\n    this._buttonElm?.remove();\r\n    this._menuElm?.remove();\r\n  }\r\n\r\n  /** Close and destroy all previously opened sub-menus */\r\n  destroySubMenus() {\r\n    this._bindingEventService.unbindAll('sub-menu');\r\n    document.querySelectorAll(`.slick-gridmenu.slick-submenu${this.getGridUidSelector()}`)\r\n      .forEach(subElm => subElm.remove());\r\n  }\r\n\r\n  /** Construct the custom command menu items. */\r\n  protected populateCommandsMenu(commandItems: Array<GridMenuItem | MenuCommandItem | 'divider'>, commandListElm: HTMLElement, args: { grid: SlickGrid, level: number }) {\r\n    // user could pass a title on top of the custom section\r\n    const level = args?.level || 0;\r\n    const isSubMenu = level > 0;\r\n    if (!isSubMenu && (this._gridMenuOptions?.commandTitle || this._gridMenuOptions?.customTitle)) {\r\n      this._commandTitleElm = document.createElement('div');\r\n      this._commandTitleElm.className = 'title';\r\n      this.grid.applyHtmlCode(this._commandTitleElm, this.grid.sanitizeHtmlString((this._gridMenuOptions.commandTitle || this._gridMenuOptions.customTitle) as string));\r\n      commandListElm.appendChild(this._commandTitleElm);\r\n    }\r\n\r\n    for (let i = 0, ln = commandItems.length; i < ln; i++) {\r\n      let addClickListener = true;\r\n      const item = commandItems[i];\r\n      const callbackArgs = {\r\n        grid: this.grid,\r\n        menu: this._menuElm,\r\n        columns: this.columns,\r\n        visibleColumns: this.getVisibleColumns()\r\n      };\r\n\r\n      // run each override functions to know if the item is visible and usable\r\n      const isItemVisible = this.runOverrideFunctionWhenExists<typeof callbackArgs>((item as GridMenuItem).itemVisibilityOverride, callbackArgs);\r\n      const isItemUsable = this.runOverrideFunctionWhenExists<typeof callbackArgs>((item as GridMenuItem).itemUsabilityOverride, callbackArgs);\r\n\r\n      // if the result is not visible then there's no need to go further\r\n      if (!isItemVisible) {\r\n        continue;\r\n      }\r\n\r\n      // when the override is defined, we need to use its result to update the disabled property\r\n      // so that \"handleMenuItemClick\" has the correct flag and won't trigger a command clicked event\r\n      if (Object.prototype.hasOwnProperty.call(item, 'itemUsabilityOverride')) {\r\n        (item as GridMenuItem).disabled = isItemUsable ? false : true;\r\n      }\r\n\r\n      const liElm = document.createElement('div');\r\n      liElm.className = 'slick-gridmenu-item';\r\n      liElm.role = 'menuitem';\r\n\r\n      if ((item as GridMenuItem).divider || item === 'divider') {\r\n        liElm.classList.add('slick-gridmenu-item-divider');\r\n        addClickListener = false;\r\n      }\r\n      if ((item as GridMenuItem).disabled) {\r\n        liElm.classList.add('slick-gridmenu-item-disabled');\r\n      }\r\n\r\n      if ((item as GridMenuItem).hidden) {\r\n        liElm.classList.add('slick-gridmenu-item-hidden');\r\n      }\r\n\r\n      if ((item as GridMenuItem).cssClass) {\r\n        liElm.classList.add(...Utils.classNameToList((item as GridMenuItem).cssClass));\r\n      }\r\n\r\n      if ((item as GridMenuItem).tooltip) {\r\n        liElm.title = (item as GridMenuItem).tooltip || '';\r\n      }\r\n\r\n      const iconElm = document.createElement('div');\r\n      iconElm.className = 'slick-gridmenu-icon';\r\n\r\n      liElm.appendChild(iconElm);\r\n\r\n      if ((item as GridMenuItem).iconCssClass) {\r\n        iconElm.classList.add(...Utils.classNameToList((item as GridMenuItem).iconCssClass));\r\n      }\r\n\r\n      if ((item as GridMenuItem).iconImage) {\r\n        iconElm.style.backgroundImage = `url(${(item as GridMenuItem).iconImage})`;\r\n      }\r\n\r\n      const textElm = document.createElement('span');\r\n      textElm.className = 'slick-gridmenu-content';\r\n      this.grid.applyHtmlCode(textElm, this.grid.sanitizeHtmlString((item as GridMenuItem).title || ''));\r\n\r\n      liElm.appendChild(textElm);\r\n\r\n      if ((item as GridMenuItem).textCssClass) {\r\n        textElm.classList.add(...Utils.classNameToList((item as GridMenuItem).textCssClass));\r\n      }\r\n\r\n      commandListElm.appendChild(liElm);\r\n\r\n      if (addClickListener) {\r\n        const eventGroup = isSubMenu ? 'sub-menu' : 'parent-menu';\r\n        this._bindingEventService.bind(liElm, 'click', this.handleMenuItemClick.bind(this, item, level) as EventListener, undefined, eventGroup);\r\n      }\r\n\r\n      // optionally open sub-menu(s) by mouseover\r\n      if (this._gridMenuOptions?.subMenuOpenByEvent === 'mouseover') {\r\n        this._bindingEventService.bind(liElm, 'mouseover', ((e: DOMMouseOrTouchEvent<HTMLDivElement>) => {\r\n          if ((item as GridMenuItem).commandItems || (item as GridMenuItem).customItems) {\r\n            this.repositionSubMenu(item, level, e);\r\n          } else if (!isSubMenu) {\r\n            this.destroySubMenus();\r\n          }\r\n        }) as EventListener);\r\n      }\r\n\r\n      // the option/command item could be a sub-menu if it has another list of commands/options\r\n      if ((item as GridMenuItem).commandItems || (item as GridMenuItem).customItems) {\r\n        const chevronElm = document.createElement('span');\r\n        chevronElm.className = 'sub-item-chevron';\r\n        if (this._gridMenuOptions?.subItemChevronClass) {\r\n          chevronElm.classList.add(...Utils.classNameToList(this._gridMenuOptions.subItemChevronClass));\r\n        } else {\r\n          chevronElm.textContent = '\u2B9E'; // \u2B9E or \u25B8\r\n        }\r\n\r\n        liElm.classList.add('slick-submenu-item');\r\n        liElm.appendChild(chevronElm);\r\n        continue;\r\n      }\r\n    }\r\n  }\r\n\r\n  /** Build the column picker, the code comes almost untouched from the file \"slick.columnpicker.js\" */\r\n  protected populateColumnPicker() {\r\n    this.grid.onColumnsReordered.subscribe(this.updateColumnOrder.bind(this));\r\n\r\n    // user could pass a title on top of the columns list\r\n    if (this._gridMenuOptions?.columnTitle) {\r\n      this._columnTitleElm = document.createElement('div');\r\n      this._columnTitleElm.className = 'title';\r\n      this.grid.applyHtmlCode(this._columnTitleElm, this.grid.sanitizeHtmlString(this._gridMenuOptions.columnTitle));\r\n      this._menuElm.appendChild(this._columnTitleElm);\r\n    }\r\n\r\n    this._bindingEventService.bind(this._menuElm, 'click', this.updateColumn.bind(this) as EventListener);\r\n    this._listElm = document.createElement('span');\r\n    this._listElm.className = 'slick-gridmenu-list';\r\n    this._listElm.role = 'menu';\r\n  }\r\n\r\n  /** Delete and then Recreate the Grid Menu (for example when we switch from regular to a frozen grid) */\r\n  recreateGridMenu() {\r\n    this.deleteMenu();\r\n    this.init(this.grid);\r\n  }\r\n\r\n  showGridMenu(e: DOMMouseOrTouchEvent<HTMLButtonElement>) {\r\n    const targetEvent = e.touches ? e.touches[0] : e;\r\n    e.preventDefault();\r\n\r\n    // empty both the picker list & the command list\r\n    Utils.emptyElement(this._listElm);\r\n    Utils.emptyElement(this._commandListElm);\r\n\r\n    const commandItems = this._gridMenuOptions?.commandItems ?? this._gridMenuOptions?.customItems ?? [];\r\n    this.populateCommandsMenu(commandItems, this._commandListElm, { grid: this.grid, level: 0 });\r\n    this.updateColumnOrder();\r\n    this._columnCheckboxes = [];\r\n\r\n    const callbackArgs = {\r\n      grid: this.grid,\r\n      menu: this._menuElm,\r\n      allColumns: this.columns,\r\n      visibleColumns: this.getVisibleColumns()\r\n    };\r\n\r\n    // run the override function (when defined), if the result is false it won't go further\r\n    if (this._gridMenuOptions && !this.runOverrideFunctionWhenExists<typeof callbackArgs>(this._gridMenuOptions.menuUsabilityOverride, callbackArgs)) {\r\n      return;\r\n    }\r\n\r\n    // notify of the onBeforeMenuShow only works when\r\n    // this mean that we cannot notify when the grid menu is attach to a button event\r\n    if (typeof e.stopPropagation === 'function') {\r\n      if (this.onBeforeMenuShow.notify(callbackArgs, e, this).getReturnValue() === false) {\r\n        return;\r\n      }\r\n    }\r\n\r\n    let columnId, columnLabel, excludeCssClass;\r\n    for (let i = 0; i < this.columns.length; i++) {\r\n      columnId = this.columns[i].id;\r\n      excludeCssClass = this.columns[i].excludeFromGridMenu ? 'hidden' : '';\r\n      const colName: string = this.columns[i].name instanceof HTMLElement\r\n        ? (this.columns[i].name as HTMLElement).innerHTML\r\n        : (this.columns[i].name || '') as string;\r\n\r\n      const liElm = document.createElement('li');\r\n      liElm.className = excludeCssClass;\r\n      liElm.ariaLabel = colName;\r\n\r\n      const checkboxElm = document.createElement('input');\r\n      checkboxElm.type = 'checkbox';\r\n      checkboxElm.id = `${this._gridUid}-gridmenu-colpicker-${columnId}`;\r\n      checkboxElm.dataset.columnid = String(this.columns[i].id);\r\n      liElm.appendChild(checkboxElm);\r\n\r\n      if (Utils.isDefined(this.grid.getColumnIndex(this.columns[i].id)) && !this.columns[i].hidden) {\r\n        checkboxElm.checked = true;\r\n      }\r\n\r\n      this._columnCheckboxes.push(checkboxElm);\r\n\r\n      // get the column label from the picker value extractor (user can optionally provide a custom extractor)\r\n      columnLabel = (this._gridMenuOptions?.headerColumnValueExtractor)\r\n        ? this._gridMenuOptions.headerColumnValueExtractor(this.columns[i], this._gridOptions)\r\n        : this._defaults.headerColumnValueExtractor!(this.columns[i]);\r\n\r\n      const labelElm = document.createElement('label');\r\n      labelElm.htmlFor = `${this._gridUid}-gridmenu-colpicker-${columnId}`;\r\n      this.grid.applyHtmlCode(labelElm, this.grid.sanitizeHtmlString(Utils.getHtmlStringOutput(columnLabel || '')));\r\n      liElm.appendChild(labelElm);\r\n      this._listElm.appendChild(liElm);\r\n    }\r\n\r\n    if (this._gridMenuOptions && (!this._gridMenuOptions.hideForceFitButton || !this._gridMenuOptions.hideSyncResizeButton)) {\r\n      this._listElm.appendChild(document.createElement('hr'));\r\n    }\r\n\r\n    if (!(this._gridMenuOptions?.hideForceFitButton)) {\r\n      const forceFitTitle = (this._gridMenuOptions?.forceFitTitle) || this._defaults.forceFitTitle as string;\r\n\r\n      const liElm = document.createElement('li');\r\n      liElm.ariaLabel = forceFitTitle;\r\n      liElm.role = 'menuitem';\r\n      this._listElm.appendChild(liElm);\r\n\r\n      const forceFitCheckboxElm = document.createElement('input');\r\n      forceFitCheckboxElm.type = 'checkbox';\r\n      forceFitCheckboxElm.id = `${this._gridUid}-gridmenu-colpicker-forcefit`;\r\n      forceFitCheckboxElm.dataset.option = 'autoresize';\r\n      liElm.appendChild(forceFitCheckboxElm);\r\n\r\n      const labelElm = document.createElement('label');\r\n      labelElm.htmlFor = `${this._gridUid}-gridmenu-colpicker-forcefit`;\r\n      labelElm.textContent = forceFitTitle;\r\n      liElm.appendChild(labelElm);\r\n\r\n      if (this.grid.getOptions().forceFitColumns) {\r\n        forceFitCheckboxElm.checked = true;\r\n      }\r\n    }\r\n\r\n    if (!(this._gridMenuOptions?.hideSyncResizeButton)) {\r\n      const syncResizeTitle = (this._gridMenuOptions?.syncResizeTitle) || this._defaults.syncResizeTitle as string;\r\n\r\n      const liElm = document.createElement('li');\r\n      liElm.ariaLabel = syncResizeTitle;\r\n      this._listElm.appendChild(liElm);\r\n\r\n      const syncResizeCheckboxElm = document.createElement('input');\r\n      syncResizeCheckboxElm.type = 'checkbox';\r\n      syncResizeCheckboxElm.id = `${this._gridUid}-gridmenu-colpicker-syncresize`;\r\n      syncResizeCheckboxElm.dataset.option = 'syncresize';\r\n      liElm.appendChild(syncResizeCheckboxElm);\r\n\r\n      const labelElm = document.createElement('label');\r\n      labelElm.htmlFor = `${this._gridUid}-gridmenu-colpicker-syncresize`;\r\n      labelElm.textContent = syncResizeTitle;\r\n      liElm.appendChild(labelElm);\r\n\r\n      if (this.grid.getOptions().syncColumnCellResize) {\r\n        syncResizeCheckboxElm.checked = true;\r\n      }\r\n    }\r\n\r\n    let buttonElm = (e.target.nodeName === 'BUTTON' ? e.target : e.target.querySelector('button')) as HTMLButtonElement; // get button element\r\n    if (!buttonElm) {\r\n      buttonElm = e.target.parentElement as HTMLButtonElement; // external grid menu might fall in this last case if wrapped in a span/div\r\n    }\r\n\r\n    // we need to display the menu to properly calculate its width but we can however make it invisible\r\n    this._menuElm.style.display = 'block';\r\n    this._menuElm.style.opacity = '0';\r\n\r\n    this.repositionMenu(e, this._menuElm, buttonElm);\r\n\r\n    // set \"height\" when defined OR ELSE use the \"max-height\" with available window size and optional margin bottom\r\n    const menuMarginBottom = (this._gridMenuOptions?.marginBottom !== undefined) ? this._gridMenuOptions.marginBottom : this._defaults.marginBottom as number;\r\n    if (this._gridMenuOptions?.height !== undefined) {\r\n      this._menuElm.style.height = `${this._gridMenuOptions.height}px`;\r\n    } else {\r\n      this._menuElm.style.maxHeight = `${window.innerHeight - targetEvent.clientY - menuMarginBottom}px`;\r\n    }\r\n\r\n    this._menuElm.style.display = 'block';\r\n    this._menuElm.style.opacity = '1'; // restore menu visibility\r\n    this._menuElm.appendChild(this._listElm);\r\n    this._isMenuOpen = true;\r\n\r\n    if (typeof e.stopPropagation === 'function') {\r\n      if (this.onAfterMenuShow.notify(callbackArgs, e, this).getReturnValue() === false) {\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  protected getGridUidSelector() {\r\n    const gridUid = this.grid.getUID() || '';\r\n    return gridUid ? `.${gridUid}` : '';\r\n  }\r\n\r\n  protected handleBodyMouseDown(e: DOMMouseOrTouchEvent<HTMLElement>) {\r\n    // did we click inside the menu or any of its sub-menu(s)\r\n    let isMenuClicked = false;\r\n    if (this._menuElm?.contains(e.target)) {\r\n      isMenuClicked = true;\r\n    }\r\n    if (!isMenuClicked) {\r\n      document\r\n        .querySelectorAll(`.slick-gridmenu.slick-submenu${this.getGridUidSelector()}`)\r\n        .forEach(subElm => {\r\n          if (subElm.contains(e.target)) {\r\n            isMenuClicked = true;\r\n          }\r\n        });\r\n    }\r\n\r\n    if ((this._menuElm !== e.target && !isMenuClicked && !e.defaultPrevented && this._isMenuOpen) || e.target.className === 'close') {\r\n      this.hideMenu(e);\r\n    }\r\n  }\r\n\r\n  protected handleMenuItemClick(item: GridMenuItem | MenuCommandItem | 'divider', level = 0, e: DOMMouseOrTouchEvent<HTMLButtonElement | HTMLDivElement>) {\r\n    if (item !== 'divider' && !item.disabled && !item.divider) {\r\n      const command = item.command || '';\r\n\r\n      if (Utils.isDefined(command) && !item.commandItems && !(item as GridMenuItem).customItems) {\r\n        const callbackArgs: GridMenuCommandItemCallbackArgs = {\r\n          grid: this.grid,\r\n          command,\r\n          item,\r\n          allColumns: this.columns,\r\n          visibleColumns: this.getVisibleColumns()\r\n        };\r\n        this.onCommand.notify(callbackArgs, e, this);\r\n\r\n        // execute action callback when defined\r\n        if (typeof item.action === 'function') {\r\n          (item as MenuCommandItem).action!.call(this, e, callbackArgs);\r\n        }\r\n\r\n        // does the user want to leave open the Grid Menu after executing a command?\r\n        const leaveOpen = !!(this._gridMenuOptions?.leaveOpen);\r\n        if (!leaveOpen && !e.defaultPrevented) {\r\n          this.hideMenu(e);\r\n        }\r\n\r\n        // Stop propagation so that it doesn't register as a header click event.\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n      } else if (item.commandItems || (item as GridMenuItem).customItems) {\r\n        this.repositionSubMenu(item, level, e);\r\n      } else {\r\n        this.destroySubMenus();\r\n      }\r\n    }\r\n  }\r\n\r\n  hideMenu(e: DOMMouseOrTouchEvent<HTMLElement>) {\r\n    if (this._menuElm) {\r\n      const callbackArgs = {\r\n        grid: this.grid,\r\n        menu: this._menuElm,\r\n        allColumns: this.columns,\r\n        visibleColumns: this.getVisibleColumns()\r\n      };\r\n      if (this._isMenuOpen && this.onMenuClose.notify(callbackArgs, e, this).getReturnValue() === false) {\r\n        return;\r\n      }\r\n      this._isMenuOpen = false;\r\n      Utils.hide(this._menuElm);\r\n    }\r\n    this.destroySubMenus();\r\n  }\r\n\r\n  /** Update the Titles of each sections (command, commandTitle, ...) */\r\n  updateAllTitles(gridMenuOptions: GridMenuOption) {\r\n    if (this._commandTitleElm) {\r\n      this.grid.applyHtmlCode(this._commandTitleElm, this.grid.sanitizeHtmlString(gridMenuOptions.commandTitle || gridMenuOptions.customTitle || ''));\r\n    }\r\n    if (this._columnTitleElm) {\r\n      this.grid.applyHtmlCode(this._columnTitleElm, this.grid.sanitizeHtmlString(gridMenuOptions.columnTitle || ''));\r\n    }\r\n  }\r\n\r\n  protected addSubMenuTitleWhenExists(item: GridMenuItem | MenuCommandItem | 'divider', commandOrOptionMenu: HTMLDivElement) {\r\n    if (item !== 'divider' && item?.subMenuTitle) {\r\n      const subMenuTitleElm = document.createElement('div');\r\n      subMenuTitleElm.className = 'slick-menu-title';\r\n      subMenuTitleElm.textContent = item.subMenuTitle as string;\r\n      const subMenuTitleClass = item.subMenuTitleCssClass as string;\r\n      if (subMenuTitleClass) {\r\n        subMenuTitleElm.classList.add(...Utils.classNameToList(subMenuTitleClass));\r\n      }\r\n\r\n      commandOrOptionMenu.appendChild(subMenuTitleElm);\r\n    }\r\n  }\r\n\r\n  protected repositionSubMenu(item: GridMenuItem | MenuCommandItem | 'divider', level: number, e: DOMMouseOrTouchEvent<HTMLButtonElement | HTMLDivElement>) {\r\n    // when we're clicking a grid cell OR our last menu type (command/option) differs then we know that we need to start fresh and close any sub-menus that might still be open\r\n    if (e.target.classList.contains('slick-cell')) {\r\n      this.destroySubMenus();\r\n    }\r\n\r\n    // creating sub-menu, we'll also pass level & the item object since we might have \"subMenuTitle\" to show\r\n    const subMenuElm = this.createMenu(level + 1, item);\r\n    subMenuElm.style.display = 'block';\r\n    document.body.appendChild(subMenuElm);\r\n    this.repositionMenu(e, subMenuElm);\r\n  }\r\n\r\n  /**\r\n   * Reposition the menu drop (up/down) and the side (left/right)\r\n   * @param {*} event\r\n   */\r\n  protected repositionMenu(e: DOMMouseOrTouchEvent<HTMLButtonElement | HTMLDivElement>, menuElm: HTMLElement, buttonElm?: HTMLButtonElement) {\r\n    const targetEvent = e.touches ? e.touches[0] : e;\r\n    const isSubMenu = menuElm.classList.contains('slick-submenu');\r\n    const parentElm = isSubMenu\r\n      ? e.target.closest('.slick-gridmenu-item') as HTMLDivElement\r\n      : targetEvent.target as HTMLElement;\r\n\r\n    const menuIconOffset = Utils.offset(buttonElm || this._buttonElm); // get button offset position\r\n    const menuWidth = menuElm.offsetWidth;\r\n    const useClickToRepositionMenu = (this._gridMenuOptions?.useClickToRepositionMenu !== undefined) ? this._gridMenuOptions.useClickToRepositionMenu : this._defaults.useClickToRepositionMenu;\r\n    const contentMinWidth = (this._gridMenuOptions?.contentMinWidth) ? this._gridMenuOptions.contentMinWidth : this._defaults.contentMinWidth as number;\r\n    const currentMenuWidth = (contentMinWidth > menuWidth) ? contentMinWidth : menuWidth + 5;\r\n    let menuOffsetTop = (useClickToRepositionMenu && targetEvent.pageY > 0) ? targetEvent.pageY : menuIconOffset!.top + 10;\r\n    let menuOffsetLeft = (useClickToRepositionMenu && targetEvent.pageX > 0) ? targetEvent.pageX : menuIconOffset!.left + 10;\r\n\r\n    if (isSubMenu && parentElm) {\r\n      const parentOffset = Utils.offset(parentElm);\r\n      menuOffsetLeft = parentOffset?.left ?? 0;\r\n      menuOffsetTop = parentOffset?.top ?? 0;\r\n      const gridPos = this.grid.getGridPosition();\r\n      let subMenuPosCalc = menuOffsetLeft + Number(menuWidth); // calculate coordinate at caller element far right\r\n      if (isSubMenu) {\r\n        subMenuPosCalc += parentElm.clientWidth;\r\n      }\r\n      const browserWidth = document.documentElement.clientWidth;\r\n      const dropSide = (subMenuPosCalc >= gridPos.width || subMenuPosCalc >= browserWidth) ? 'left' : 'right';\r\n      if (dropSide === 'left') {\r\n        menuElm.classList.remove('dropright');\r\n        menuElm.classList.add('dropleft');\r\n        menuOffsetLeft -= menuWidth;\r\n      } else {\r\n        menuElm.classList.remove('dropleft');\r\n        menuElm.classList.add('dropright');\r\n        if (isSubMenu) {\r\n          menuOffsetLeft += parentElm.offsetWidth;\r\n        }\r\n      }\r\n    } else {\r\n      menuOffsetTop += 10;\r\n      menuOffsetLeft = menuOffsetLeft - currentMenuWidth + 10;\r\n    }\r\n\r\n    menuElm.style.top = `${menuOffsetTop}px`;\r\n    menuElm.style.left = `${menuOffsetLeft}px`;\r\n\r\n    if (contentMinWidth > 0) {\r\n      this._menuElm.style.minWidth = `${contentMinWidth}px`;\r\n    }\r\n  }\r\n\r\n  protected updateColumnOrder() {\r\n    // Because columns can be reordered, we have to update the `columns`\r\n    // to reflect the new order, however we can't just take `grid.getColumns()`,\r\n    // as it does not include columns currently hidden by the picker.\r\n    // We create a new `columns` structure by leaving currently-hidden\r\n    // columns in their original ordinal position and interleaving the results\r\n    // of the current column sort.\r\n    const current = this.grid.getColumns().slice(0);\r\n    const ordered = new Array(this.columns.length);\r\n    for (let i = 0; i < ordered.length; i++) {\r\n      if (this.grid.getColumnIndex(this.columns[i].id) === undefined) {\r\n        // If the column doesn't return a value from getColumnIndex,\r\n        // it is hidden. Leave it in this position.\r\n        ordered[i] = this.columns[i];\r\n      } else {\r\n        // Otherwise, grab the next visible column.\r\n        ordered[i] = current.shift();\r\n      }\r\n    }\r\n    this.columns = ordered;\r\n  }\r\n\r\n  protected updateColumn(e: DOMMouseOrTouchEvent<HTMLInputElement>) {\r\n    if (e.target.dataset.option === 'autoresize') {\r\n      // when calling setOptions, it will resize with ALL Columns (even the hidden ones)\r\n      // we can avoid this problem by keeping a reference to the visibleColumns before setOptions and then setColumns after\r\n      const previousVisibleColumns = this.getVisibleColumns();\r\n      const isChecked = e.target.checked;\r\n      this.grid.setOptions({ forceFitColumns: isChecked });\r\n      this.grid.setColumns(previousVisibleColumns);\r\n      return;\r\n    }\r\n\r\n    if (e.target.dataset.option === 'syncresize') {\r\n      this.grid.setOptions({ syncColumnCellResize: !!(e.target.checked) });\r\n      return;\r\n    }\r\n\r\n    if (e.target.type === 'checkbox') {\r\n      const isChecked = e.target.checked;\r\n      const columnId = e.target.dataset.columnid || '';\r\n      const visibleColumns: Column[] = [];\r\n      this._columnCheckboxes.forEach((columnCheckbox, idx) => {\r\n        if (columnCheckbox.checked) {\r\n          if (this.columns[idx].hidden) { this.columns[idx].hidden = false; }\r\n          visibleColumns.push(this.columns[idx]);\r\n        }\r\n      });\r\n\r\n      if (!visibleColumns.length) {\r\n        e.target.checked = true;\r\n        return;\r\n      }\r\n\r\n      const callbackArgs = {\r\n        columnId,\r\n        showing: isChecked,\r\n        grid: this.grid,\r\n        allColumns: this.columns,\r\n        columns: visibleColumns,\r\n        visibleColumns: this.getVisibleColumns()\r\n      };\r\n      this.grid.setColumns(visibleColumns);\r\n      this.onColumnsChanged.notify(callbackArgs, e, this);\r\n    }\r\n  }\r\n\r\n  getAllColumns() {\r\n    return this.columns;\r\n  }\r\n\r\n  /** visible columns, we can simply get them directly from the grid */\r\n  getVisibleColumns() {\r\n    return this.grid.getColumns();\r\n  }\r\n\r\n  /**\r\n   * Method that user can pass to override the default behavior.\r\n   * In order word, user can choose or an item is (usable/visible/enable) by providing his own logic.\r\n   * @param overrideFn: override function callback\r\n   * @param args: multiple arguments provided to the override (cell, row, columnDef, dataContext, grid)\r\n   */\r\n  protected runOverrideFunctionWhenExists<T = any>(overrideFn: ((args: any) => boolean) | undefined, args: T): boolean {\r\n    if (typeof overrideFn === 'function') {\r\n      return overrideFn.call(this, args);\r\n    }\r\n    return true;\r\n  }\r\n}\r\n\r\n// extend Slick namespace on window object when building as iife\r\nif (IIFE_ONLY && window.Slick) {\r\n  window.Slick.Controls = window.Slick.Controls || {};\r\n  window.Slick.Controls.GridMenu = SlickGridMenu;\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
