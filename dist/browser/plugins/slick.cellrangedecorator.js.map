{
  "version": 3,
  "sources": ["../../../src/plugins/slick.cellrangedecorator.ts"],
  "sourcesContent": ["import type { CSSStyleDeclarationWritable, CellRangeDecoratorOption, SlickPlugin } from '../models/index.js';\r\nimport { Utils as Utils_, type SlickRange } from '../slick.core.js';\r\nimport type { SlickGrid } from '../slick.grid.js';\r\n\r\n// for (iife) load Slick methods from global Slick object, or use imports for (esm)\r\nconst Utils = IIFE_ONLY ? Slick.Utils : Utils_;\r\n\r\n/***\r\n   * Displays an overlay on top of a given cell range.\r\n   *\r\n   * TODO:\r\n   * Currently, it blocks mouse events to DOM nodes behind it.\r\n   * Use FF and WebKit-specific \"pointer-events\" CSS style, or some kind of event forwarding.\r\n   * Could also construct the borders separately using 4 individual DIVs.\r\n   *\r\n   * @param {Grid} grid\r\n   * @param {Object} options\r\n   */\r\nexport class SlickCellRangeDecorator implements SlickPlugin {\r\n  // --\r\n  // public API\r\n  pluginName = 'CellRangeDecorator' as const;\r\n\r\n  // --\r\n  // protected props\r\n  protected _options: CellRangeDecoratorOption;\r\n  protected _elem?: HTMLDivElement | null;\r\n  protected _defaults = {\r\n    selectionCssClass: 'slick-range-decorator',\r\n    selectionCss: {\r\n      zIndex: '9999',\r\n      border: '2px dashed red'\r\n    },\r\n    offset: { top: -1, left: -1, height: -2, width: -2 }\r\n  } as CellRangeDecoratorOption;\r\n\r\n  constructor(protected readonly grid: SlickGrid, options?: Partial<CellRangeDecoratorOption>) {\r\n    this._options = Utils.extend(true, {}, this._defaults, options);\r\n  }\r\n\r\n  destroy() {\r\n    this.hide();\r\n  }\r\n\r\n  init() { }\r\n\r\n  hide() {\r\n    this._elem?.remove();\r\n    this._elem = null;\r\n  }\r\n\r\n  show(range: SlickRange) {\r\n    if (!this._elem) {\r\n      this._elem = document.createElement('div');\r\n      this._elem.className = this._options.selectionCssClass;\r\n      Object.keys(this._options.selectionCss as CSSStyleDeclaration).forEach((cssStyleKey) => {\r\n        this._elem!.style[cssStyleKey as CSSStyleDeclarationWritable] = this._options.selectionCss[cssStyleKey as CSSStyleDeclarationWritable];\r\n      });\r\n      this._elem.style.position = 'absolute';\r\n      const canvasNode = this.grid.getActiveCanvasNode();\r\n      if (canvasNode) {\r\n        canvasNode.appendChild(this._elem);\r\n      }\r\n    }\r\n\r\n    const from = this.grid.getCellNodeBox(range.fromRow, range.fromCell);\r\n    const to = this.grid.getCellNodeBox(range.toRow, range.toCell);\r\n\r\n    if (from && to && this._options?.offset) {\r\n      this._elem.style.top = `${from.top + this._options.offset.top}px`;\r\n      this._elem.style.left = `${from.left + this._options.offset.left}px`;\r\n      this._elem.style.height = `${to.bottom - from.top + this._options.offset.height}px`;\r\n      this._elem.style.width = `${to.right - from.left + this._options.offset.width}px`;\r\n    }\r\n\r\n    return this._elem;\r\n  }\r\n}\r\n\r\n// extend Slick namespace on window object when building as iife\r\nif (IIFE_ONLY && window.Slick) {\r\n  Utils.extend(true, window, {\r\n    Slick: {\r\n      CellRangeDecorator: SlickCellRangeDecorator\r\n    }\r\n  });\r\n}\r\n"],
  "mappings": ";;;;;;;AAKA,MAAM,QAAoB,MAAM,OAanB,0BAAN,MAAqD;AAAA,IAkB1D,YAA+B,MAAiB,SAA6C;AAA9D;AAf/B;AAAA;AAAA,wCAAa;AAIb;AAAA;AAAA,0BAAU;AACV,0BAAU;AACV,0BAAU,aAAY;AAAA,QACpB,mBAAmB;AAAA,QACnB,cAAc;AAAA,UACZ,QAAQ;AAAA,UACR,QAAQ;AAAA,QACV;AAAA,QACA,QAAQ,EAAE,KAAK,IAAI,MAAM,IAAI,QAAQ,IAAI,OAAO,GAAG;AAAA,MACrD;AAGE,WAAK,WAAW,MAAM,OAAO,IAAM,CAAC,GAAG,KAAK,WAAW,OAAO;AAAA,IAChE;AAAA,IAEA,UAAU;AACR,WAAK,KAAK;AAAA,IACZ;AAAA,IAEA,OAAO;AAAA,IAAE;AAAA,IAET,OAAO;AA9CT;AA+CI,iBAAK,UAAL,WAAY,UACZ,KAAK,QAAQ;AAAA,IACf;AAAA,IAEA,KAAK,OAAmB;AAnD1B;AAoDI,UAAI,CAAC,KAAK,OAAO;AACf,aAAK,QAAQ,SAAS,cAAc,KAAK,GACzC,KAAK,MAAM,YAAY,KAAK,SAAS,mBACrC,OAAO,KAAK,KAAK,SAAS,YAAmC,EAAE,QAAQ,CAAC,gBAAgB;AACtF,eAAK,MAAO,MAAM,WAA0C,IAAI,KAAK,SAAS,aAAa,WAA0C;AAAA,QACvI,CAAC,GACD,KAAK,MAAM,MAAM,WAAW;AAC5B,YAAM,aAAa,KAAK,KAAK,oBAAoB;AACjD,QAAI,cACF,WAAW,YAAY,KAAK,KAAK;AAAA,MAErC;AAEA,UAAM,OAAO,KAAK,KAAK,eAAe,MAAM,SAAS,MAAM,QAAQ,GAC7D,KAAK,KAAK,KAAK,eAAe,MAAM,OAAO,MAAM,MAAM;AAE7D,aAAI,QAAQ,QAAM,UAAK,aAAL,WAAe,YAC/B,KAAK,MAAM,MAAM,MAAM,GAAG,KAAK,MAAM,KAAK,SAAS,OAAO,GAAG,MAC7D,KAAK,MAAM,MAAM,OAAO,GAAG,KAAK,OAAO,KAAK,SAAS,OAAO,IAAI,MAChE,KAAK,MAAM,MAAM,SAAS,GAAG,GAAG,SAAS,KAAK,MAAM,KAAK,SAAS,OAAO,MAAM,MAC/E,KAAK,MAAM,MAAM,QAAQ,GAAG,GAAG,QAAQ,KAAK,OAAO,KAAK,SAAS,OAAO,KAAK,OAGxE,KAAK;AAAA,IACd;AAAA,EACF;AAGA,EAAiB,OAAO,SACtB,MAAM,OAAO,IAAM,QAAQ;AAAA,IACzB,OAAO;AAAA,MACL,oBAAoB;AAAA,IACtB;AAAA,EACF,CAAC;",
  "names": []
}
