{
  "version": 3,
  "sources": ["../../../src/plugins/slick.draggablegrouping.ts"],
  "sourcesContent": ["// @ts-ignore\nimport type SortableInstance from 'sortablejs';\n\nimport type { Column, DOMMouseOrTouchEvent, DraggableGroupingOption, Grouping, GroupingGetterFunction } from '../models/index';\nimport { BindingEventService as BindingEventService_, SlickEvent as SlickEvent_, SlickEventHandler as SlickEventHandler_, Utils as Utils_ } from '../slick.core';\nimport type { SlickDataView } from '../slick.dataview';\nimport type { SlickGrid } from '../slick.grid';\n\n// for (iife) load Slick methods from global Slick object, or use imports for (esm)\nconst BindingEventService = IIFE_ONLY ? Slick.BindingEventService : BindingEventService_;\nconst SlickEvent = IIFE_ONLY ? Slick.Event : SlickEvent_;\nconst SlickEventHandler = IIFE_ONLY ? Slick.EventHandler : SlickEventHandler_;\nconst Utils = IIFE_ONLY ? Slick.Utils : Utils_;\n\n/**\n *\n * Draggable Grouping contributed by:  Muthukumar Selvarasu\n *  muthukumar{dot}se{at}gmail{dot}com\n *  github.com/muthukumarse/Slickgrid\n *\n * NOTES:\n *     This plugin provides the Draggable Grouping feature\n * A plugin to add Draggable Grouping feature.\n *\n * USAGE:\n *\n * Add the plugin .js & .css files and register it with the grid.\n *\n *\n * The plugin expose the following methods:\n *    destroy: used to destroy the plugin\n *    setDroppedGroups: provide option to set default grouping on loading\n *    clearDroppedGroups: provide option to clear grouping\n *    getSetupColumnReorder: its function to setup draggable feature agains Header Column, should be passed on grid option. Also possible to pass custom function\n *\n *\n * The plugin expose the following event(s):\n *    onGroupChanged: pass the grouped columns to who subscribed.\n *\n */\nexport class SlickDraggableGrouping {\n  // --\n  // public API\n  pluginName = 'DraggableGrouping' as const;\n  onGroupChanged = new SlickEvent<{ caller?: string; groupColumns: Grouping[]; }>('onGroupChanged');\n\n  // --\n  // protected props\n  protected _grid!: SlickGrid;\n  protected _gridUid = '';\n  protected _gridColumns: Column[] = [];\n  protected _dataView!: SlickDataView;\n  protected _dropzoneElm!: HTMLDivElement;\n  protected _droppableInstance?: SortableInstance;\n  protected _dropzonePlaceholder!: HTMLDivElement;\n  protected _groupToggler?: HTMLDivElement;\n  protected _options: DraggableGroupingOption;\n  protected _defaults: DraggableGroupingOption = {\n    dropPlaceHolderText: 'Drop a column header here to group by the column',\n    hideGroupSortIcons: false,\n    hideToggleAllButton: false,\n    toggleAllButtonText: '',\n    toggleAllPlaceholderText: 'Toggle all Groups',\n  };\n  protected _bindingEventService = new BindingEventService();\n  protected _handler = new SlickEventHandler();\n  protected _sortableLeftInstance?: SortableInstance;\n  protected _sortableRightInstance?: SortableInstance;\n  protected _columnsGroupBy: Column[] = [];\n\n  /**\n   * @param options {Object} Options:\n   *    deleteIconCssClass:  an extra CSS class to add to the delete button (default undefined), if deleteIconCssClass && deleteIconImage undefined then slick-groupby-remove-image class will be added\n   *    deleteIconImage:     a url to the delete button image (default undefined)\n   *    groupIconCssClass:   an extra CSS class to add to the grouping field hint  (default undefined)\n   *    groupIconImage:      a url to the grouping field hint image (default undefined)\n   *    dropPlaceHolderText:      option to specify set own placeholder note text\n   */\n  constructor(options: Partial<DraggableGroupingOption>) {\n    this._options = Utils.extend(true, {}, this._defaults, options);\n  }\n\n  /**\n   * Initialize plugin.\n   */\n  init(grid: SlickGrid) {\n    this._grid = grid;\n    Utils.addSlickEventPubSubWhenDefined(grid.getPubSubService(), this);\n\n    this._gridUid = this._grid.getUID();\n    this._gridColumns = this._grid.getColumns();\n    this._dataView = this._grid.getData();\n    this._dropzoneElm = this._grid.getPreHeaderPanel();\n    this._dropzoneElm.classList.add('slick-dropzone');\n\n    const dropPlaceHolderText = this._options.dropPlaceHolderText || 'Drop a column header here to group by the column';\n\n    this._dropzonePlaceholder = document.createElement('div');\n    this._dropzonePlaceholder.className = 'slick-placeholder';\n    this._dropzonePlaceholder.textContent = dropPlaceHolderText;\n\n    this._groupToggler = document.createElement('div');\n    this._groupToggler.className = 'slick-group-toggle-all expanded';\n    this._groupToggler.style.display = 'none';\n\n    this._dropzoneElm.appendChild(this._dropzonePlaceholder);\n    this._dropzoneElm.appendChild(this._groupToggler);\n\n    this.setupColumnDropbox();\n\n\n    this._handler.subscribe(this._grid.onHeaderCellRendered, (_e, args) => {\n      const column = args.column;\n      const node = args.node;\n      if (!Utils.isEmptyObject(column.grouping) && node) {\n        node.style.cursor = 'pointer'; // add the pointer cursor on each column title\n\n        // also optionally add an icon beside each column title that can be dragged\n        if (this._options.groupIconCssClass || this._options.groupIconImage) {\n          const groupableIconElm = document.createElement('span');\n          groupableIconElm.className = 'slick-column-groupable';\n          if (this._options.groupIconCssClass) {\n            groupableIconElm.classList.add(...this._options.groupIconCssClass.split(' '));\n          }\n          if (this._options.groupIconImage) {\n            groupableIconElm.style.background = `url(${this._options.groupIconImage}) no-repeat center center`;\n          }\n          node.appendChild(groupableIconElm);\n        }\n      }\n    });\n\n    for (let i = 0; i < this._gridColumns.length; i++) {\n      const columnId = this._gridColumns[i].field;\n      this._grid.updateColumnHeader(columnId);\n    }\n  }\n\n  /**\n   * Setup the column reordering\n   * NOTE: this function is a standalone function and is called externally and does not have access to `this` instance\n   * @param grid - slick grid object\n   * @param headers - slick grid column header elements\n   * @param _headerColumnWidthDiff - header column width difference\n   * @param setColumns - callback to reassign columns\n   * @param setupColumnResize - callback to setup the column resize\n   * @param columns - columns array\n   * @param getColumnIndex - callback to find index of a column\n   * @param uid - grid UID\n   * @param trigger - callback to execute when triggering a column grouping\n   */\n  getSetupColumnReorder(grid: SlickGrid, headers: any, _headerColumnWidthDiff: any, setColumns: (columns: Column[]) => void, setupColumnResize: () => void, _columns: Column[], getColumnIndex: (columnId: string) => number, _uid: string, trigger: (slickEvent: SlickEvent_, data?: any) => void) {\n    this.destroySortableInstances();\n    const dropzoneElm = grid.getPreHeaderPanel();\n    const groupTogglerElm = dropzoneElm.querySelector<HTMLDivElement>('.slick-group-toggle-all');\n\n    const sortableOptions = {\n      animation: 50,\n      // chosenClass: 'slick-header-column-active',\n      ghostClass: 'slick-sortable-placeholder',\n      draggable: '.slick-header-column',\n      dataIdAttr: 'data-id',\n      group: {\n        name: 'shared',\n        pull: 'clone',\n        put: false,\n      },\n      revertClone: true,\n      // filter: function (_e, target) {\n      //   // block column from being able to be dragged if it's already a grouped column\n      //   // NOTE: need to disable for now since it also blocks the column reordering\n      //   return this.columnsGroupBy.some(c => c.id === target.getAttribute('data-id'));\n      // },\n      onStart: () => {\n        dropzoneElm.classList.add('slick-dropzone-hover');\n        dropzoneElm.classList.add('slick-dropzone-placeholder-hover');\n        const draggablePlaceholderElm = dropzoneElm.querySelector<HTMLDivElement>('.slick-placeholder');\n        if (draggablePlaceholderElm) {\n          draggablePlaceholderElm.style.display = 'inline-block';\n        }\n\n        const droppedGroupingElms = dropzoneElm.querySelectorAll<HTMLDivElement>('.slick-dropped-grouping');\n        droppedGroupingElms.forEach(droppedGroupingElm => droppedGroupingElm.style.display = 'none');\n        if (groupTogglerElm) {\n          groupTogglerElm.style.display = 'none';\n        }\n      },\n      onEnd: (e: Event & { item: any; clone: HTMLElement; }) => {\n        const draggablePlaceholderElm = dropzoneElm.querySelector<HTMLDivElement>('.slick-placeholder');\n        dropzoneElm.classList.remove('slick-dropzone-hover');\n        draggablePlaceholderElm?.classList.remove('slick-dropzone-placeholder-hover');\n\n\n        if (this._dropzonePlaceholder) {\n          this._dropzonePlaceholder.style.display = 'none';\n        }\n        if (draggablePlaceholderElm) {\n          draggablePlaceholderElm.parentElement?.classList.remove('slick-dropzone-placeholder-hover');\n        }\n\n        const droppedGroupingElms = dropzoneElm.querySelectorAll<HTMLDivElement>('.slick-dropped-grouping');\n        if (droppedGroupingElms.length) {\n          droppedGroupingElms.forEach(droppedGroupingElm => droppedGroupingElm.style.display = 'inline-flex');\n          if (draggablePlaceholderElm) {\n            draggablePlaceholderElm.style.display = 'none';\n          }\n          if (groupTogglerElm) {\n            groupTogglerElm.style.display = 'inline-block';\n          }\n        }\n\n        if (!grid.getEditorLock().commitCurrentEdit()) {\n          return;\n        }\n\n        const reorderedIds = this._sortableLeftInstance?.toArray() ?? [];\n\n        // when frozen columns are used, headers has more than one entry and we need the ids from all of them.\n        // though there is only really a left and right header, this will work even if that should change.\n        if (headers.length > 1) {\n          const ids = this._sortableRightInstance?.toArray() ?? [];\n\n          // Note: the loop below could be simplified with:\n          // reorderedIds.push.apply(reorderedIds,ids);\n          // However, the loop is more in keeping with way-backward compatibility\n          for (const id of ids) {\n            reorderedIds.push(id);\n          }\n        }\n\n        const finalReorderedColumns: Column[] = [];\n        const reorderedColumns = grid.getColumns();\n        for (const reorderedId of reorderedIds) {\n          finalReorderedColumns.push(reorderedColumns[getColumnIndex.call(grid, reorderedId)]);\n        }\n        setColumns.call(grid, finalReorderedColumns);\n        trigger.call(grid, grid.onColumnsReordered, { grid });\n        e.stopPropagation();\n        setupColumnResize.call(grid);\n      }\n    };\n\n    this._sortableLeftInstance = Sortable.create(document.querySelector(`.${grid.getUID()} .slick-header-columns.slick-header-columns-left`) as HTMLDivElement, sortableOptions);\n    this._sortableRightInstance = Sortable.create(document.querySelector(`.${grid.getUID()} .slick-header-columns.slick-header-columns-right`) as HTMLDivElement, sortableOptions);\n\n    return {\n      sortableLeftInstance: this._sortableLeftInstance,\n      sortableRightInstance: this._sortableRightInstance\n    };\n  }\n\n  /**\n   * Destroy plugin.\n   */\n  destroy() {\n    this.destroySortableInstances();\n    if (this._droppableInstance?.el) {\n      this._droppableInstance?.destroy();\n    }\n    this.onGroupChanged.unsubscribe();\n    this._handler.unsubscribeAll();\n    this._bindingEventService.unbindAll();\n    Utils.emptyElement(document.querySelector(`.${this._gridUid} .slick-preheader-panel`));\n  }\n\n  protected destroySortableInstances() {\n    if (this._sortableLeftInstance?.el) {\n      this._sortableLeftInstance?.destroy();\n    }\n    if (this._sortableRightInstance?.el) {\n      this._sortableRightInstance?.destroy();\n    }\n  }\n\n  protected addDragOverDropzoneListeners() {\n    const draggablePlaceholderElm = this._dropzoneElm.querySelector('.slick-placeholder');\n\n    if (draggablePlaceholderElm && this._dropzoneElm) {\n      this._bindingEventService.bind(draggablePlaceholderElm, 'dragover', (e) => e.preventDefault());\n      this._bindingEventService.bind(draggablePlaceholderElm, 'dragenter', () => this._dropzoneElm.classList.add('slick-dropzone-hover'));\n      this._bindingEventService.bind(draggablePlaceholderElm, 'dragleave', () => this._dropzoneElm.classList.remove('slick-dropzone-hover'));\n    }\n  }\n\n  protected setupColumnDropbox() {\n    const dropzoneElm = this._dropzoneElm;\n\n    this._droppableInstance = Sortable.create(dropzoneElm, {\n      group: 'shared',\n      // chosenClass: 'slick-header-column-active',\n      ghostClass: 'slick-droppable-sortitem-hover',\n      draggable: '.slick-dropped-grouping',\n      dragoverBubble: true,\n      onAdd: (evt: MouseEvent & { item: any; clone: HTMLElement; originalEvent: MouseEvent; }) => {\n        const el = evt.item;\n        const elId = el.getAttribute('id');\n        if (elId?.replace(this._gridUid, '')) {\n          this.handleGroupByDrop(dropzoneElm, (Sortable.utils).clone(evt.item));\n        }\n        evt.clone.style.opacity = '.5';\n        el.parentNode?.removeChild(el);\n      },\n      onUpdate: () => {\n        const sortArray = this._droppableInstance?.toArray() ?? [];\n        const newGroupingOrder: Column[] = [];\n        for (let i = 0, l = sortArray.length; i < l; i++) {\n          for (let a = 0, b = this._columnsGroupBy.length; a < b; a++) {\n            if (this._columnsGroupBy[a].id === sortArray[i]) {\n              newGroupingOrder.push(this._columnsGroupBy[a]);\n              break;\n            }\n          }\n        }\n        this._columnsGroupBy = newGroupingOrder;\n        this.updateGroupBy(\"sort-group\");\n      },\n    });\n\n    // Sortable doesn't have onOver, we need to implement it ourselves\n    this.addDragOverDropzoneListeners();\n\n    if (this._groupToggler) {\n      this._bindingEventService.bind(this._groupToggler, 'click', ((event: DOMMouseOrTouchEvent<HTMLDivElement>) => {\n        const target = event.target;\n        this.toggleGroupToggler(target, target?.classList.contains('expanded'));\n      }) as EventListener);\n    }\n  }\n\n  protected handleGroupByDrop(containerElm: HTMLDivElement, headerColumnElm: HTMLDivElement) {\n    const headerColDataId = headerColumnElm.getAttribute('data-id');\n    const columnId = headerColDataId?.replace(this._gridUid, '');\n    let columnAllowed = true;\n    for (const colGroupBy of this._columnsGroupBy) {\n      if (colGroupBy.id === columnId) {\n        columnAllowed = false;\n      }\n    }\n\n    if (columnAllowed) {\n      for (const col of this._gridColumns) {\n        if (col.id === columnId && col.grouping && !Utils.isEmptyObject(col.grouping)) {\n          const columnNameElm = headerColumnElm.querySelector('.slick-column-name');\n          const entryElm = document.createElement('div');\n          entryElm.id = `${this._gridUid}_${col.id}_entry`;\n          entryElm.className = 'slick-dropped-grouping';\n          entryElm.dataset.id = `${col.id}`;\n\n          const groupTextElm = document.createElement('div');\n          groupTextElm.className = 'slick-dropped-grouping-title';\n          groupTextElm.style.display = 'inline-flex';\n          groupTextElm.textContent = columnNameElm ? columnNameElm.textContent : headerColumnElm.textContent;\n          entryElm.appendChild(groupTextElm);\n\n          // delete icon\n          const groupRemoveIconElm = document.createElement('div');\n          groupRemoveIconElm.className = 'slick-groupby-remove';\n          if (this._options.deleteIconCssClass) {\n            groupRemoveIconElm.classList.add(...this._options.deleteIconCssClass.split(' '));\n          }\n          if (this._options.deleteIconImage) {\n            groupRemoveIconElm.classList.add(...this._options.deleteIconImage.split(' '));\n          }\n          if (!this._options.deleteIconCssClass) {\n            groupRemoveIconElm.classList.add('slick-groupby-remove-icon');\n          }\n          if (!this._options.deleteIconCssClass && !this._options.deleteIconImage) {\n            groupRemoveIconElm.classList.add('slick-groupby-remove-image');\n          }\n\n          // sorting icons when enabled\n          if (this._options?.hideGroupSortIcons !== true && col.sortable) {\n            if (col.grouping?.sortAsc === undefined) {\n              col.grouping.sortAsc = true;\n            }\n          }\n\n          entryElm.appendChild(groupRemoveIconElm);\n          entryElm.appendChild(document.createElement('div'));\n          containerElm.appendChild(entryElm);\n\n          this.addColumnGroupBy(col);\n          this.addGroupByRemoveClickHandler(col.id, groupRemoveIconElm, headerColumnElm, entryElm);\n        }\n      }\n\n      // show the \"Toggle All\" when feature is enabled\n      if (this._groupToggler && this._columnsGroupBy.length > 0) {\n        this._groupToggler.style.display = 'inline-block';\n      }\n    }\n  }\n\n  protected addColumnGroupBy(column: Column) {\n    this._columnsGroupBy.push(column);\n    this.updateGroupBy(\"add-group\");\n  }\n\n  protected addGroupByRemoveClickHandler(id: string | number, groupRemoveIconElm: HTMLDivElement, headerColumnElm: HTMLDivElement, entry: any) {\n    this._bindingEventService.bind(groupRemoveIconElm, 'click', () => {\n      const boundedElms = this._bindingEventService.getBoundedEvents().filter(boundedEvent => boundedEvent.element === groupRemoveIconElm);\n      for (const boundedEvent of boundedElms) {\n        this._bindingEventService.unbind(boundedEvent.element, 'click', boundedEvent.listener);\n      }\n      this.removeGroupBy(id, headerColumnElm, entry);\n    });\n  }\n\n  setDroppedGroups(groupingInfo: Array<string | GroupingGetterFunction> | string) {\n    const groupingInfos = Array.isArray(groupingInfo) ? groupingInfo : [groupingInfo];\n    this._dropzonePlaceholder.style.display = 'none';\n    for (const groupInfo of groupingInfos) {\n      const columnElm = this._grid.getHeaderColumn(groupInfo as string);\n      this.handleGroupByDrop(this._dropzoneElm, columnElm);\n    }\n  }\n\n  clearDroppedGroups() {\n    this._columnsGroupBy = [];\n    this.updateGroupBy('clear-all');\n    const allDroppedGroupingElms = this._dropzoneElm.querySelectorAll('.slick-dropped-grouping');\n\n    for (const groupElm of Array.from(allDroppedGroupingElms)) {\n      const groupRemoveBtnElm = this._dropzoneElm.querySelector('.slick-groupby-remove');\n      groupRemoveBtnElm?.remove();\n      groupElm?.remove();\n    }\n\n    // show placeholder text & hide the \"Toggle All\" when that later feature is enabled\n    this._dropzonePlaceholder.style.display = 'inline-block';\n    if (this._groupToggler) {\n      this._groupToggler.style.display = 'none';\n    }\n  }\n\n  protected removeFromArray(arrayToModify: any[], itemToRemove: any) {\n    if (Array.isArray(arrayToModify)) {\n      const itemIdx = arrayToModify.findIndex(a => a.id === itemToRemove.id);\n      if (itemIdx >= 0) {\n        arrayToModify.splice(itemIdx, 1);\n      }\n    }\n    return arrayToModify;\n  }\n\n  protected removeGroupBy(id: string | number, _hdrColumnElm: HTMLDivElement, entry: any) {\n    entry.remove();\n    const groupby: Column[] = [];\n    this._gridColumns.forEach((col) => groupby[col.id as any] = col);\n    this.removeFromArray(this._columnsGroupBy, groupby[id as any]);\n    if (this._columnsGroupBy.length === 0) {\n      this._dropzonePlaceholder.style.display = 'block';\n      if (this._groupToggler) {\n        this._groupToggler.style.display = 'none';\n      }\n    }\n    this.updateGroupBy(\"remove-group\");\n  }\n\n  protected toggleGroupToggler(targetElm: Element | null, collapsing = true, shouldExecuteDataViewCommand = true) {\n    if (targetElm) {\n      if (collapsing === true) {\n        targetElm.classList.add('collapsed');\n        targetElm.classList.remove('expanded');\n        if (shouldExecuteDataViewCommand) {\n          this._dataView.collapseAllGroups();\n        }\n      } else {\n        targetElm.classList.remove('collapsed');\n        targetElm.classList.add('expanded');\n        if (shouldExecuteDataViewCommand) {\n          this._dataView.expandAllGroups();\n        }\n      }\n    }\n  }\n\n  protected updateGroupBy(originator: string) {\n    if (this._columnsGroupBy.length === 0) {\n      this._dataView.setGrouping([]);\n      this.onGroupChanged.notify({ caller: originator, groupColumns: [] });\n      return;\n    }\n    const groupingArray: Grouping<any>[] = [];\n    this._columnsGroupBy.forEach((element) => groupingArray.push(element.grouping!));\n    this._dataView.setGrouping(groupingArray);\n    this.onGroupChanged.notify({ caller: originator, groupColumns: groupingArray });\n  }\n}\n\n// extend Slick namespace on window object when building as iife\nif (IIFE_ONLY && window.Slick) {\n  Utils.extend(true, window, {\n    Slick: {\n      DraggableGrouping: SlickDraggableGrouping\n    }\n  });\n}\n\n"],
  "mappings": "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",
  "names": []
}
