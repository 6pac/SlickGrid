/**
 * SlickGrid v3.0.2
 * (c) 2009-present Michael Leibman
 * homepage: http://github.com/mleibman/slickgrid
 * license: MIT
 * date: 2022-11-14
 * file: ./examples/slick.checkboxselectcolumn-test3.js
 */
!function(d){d.extend(!0,window,{Slick:{CheckboxSelectColumn:function(e){var s,t=new Slick.EventHandler,r={},u=d.extend(!0,{},{columnId:"_checkbox_selector",cssClass:null,toolTip:"Select/Deselect All",width:30},e);function o(e,t){for(var o,n=s.getSelectedRows(),c={},i=0;i<n.length;i++)c[o=n[i]]=!0,c[o]!==r[o]&&(s.invalidateRow(o),delete r[o]);for(i in r)s.invalidateRow(i);r=c,s.render();var l=s.getData(),l=(l.getItems&&(l=l.getItems()),d.grep(l,function(e){return e.not_multiselectable&&"Y"===e.not_multiselectable}).length);n.length&&n.length==s.getDataLength()-l?s.updateColumnHeader(u.columnId,"<input type='checkbox' checked='checked'>",u.toolTip):s.updateColumnHeader(u.columnId,"<input type='checkbox'>",u.toolTip)}function n(e,t){32==e.which&&s.getColumns()[t.cell].id===u.columnId&&(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit()||i(t.row),e.preventDefault(),e.stopImmediatePropagation())}function c(e,t){s.getColumns()[t.cell].id===u.columnId&&d(e.target).is(":checkbox")&&(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit()?e.preventDefault():(i(t.row),e.stopPropagation()),e.stopImmediatePropagation())}function i(t){r[t]?s.setSelectedRows(d.grep(s.getSelectedRows(),function(e){return e!=t})):s.setSelectedRows(s.getSelectedRows().concat(t))}function l(e,t){if(t.column.id==u.columnId&&d(e.target).is(":checkbox")){if(s.getEditorLock().isActive()&&!s.getEditorLock().commitCurrentEdit())e.preventDefault();else{if(d(e.target).is(":checked")){for(var o,n=[],c=0;c<s.getDataLength();c++)(o=s.getDataItem(c)).not_multiselectable&&"N"!==o.not_multiselectable||n.push(c);s.setSelectedRows(n)}else s.setSelectedRows([]);e.stopPropagation()}e.stopImmediatePropagation()}}function a(e,t,o,n,c){return!c||c.not_multiselectable&&"Y"===c.not_multiselectable?null:r[e]?"<input type='checkbox' checked='checked'>":"<input type='checkbox'>"}d.extend(this,{init:function(e){s=e,t.subscribe(s.onSelectedRowsChanged,o).subscribe(s.onClick,c).subscribe(s.onHeaderClick,l).subscribe(s.onKeyDown,n)},destroy:function(){t.unsubscribeAll()},getColumnDefinition:function(){return{id:u.columnId,name:"<input type='checkbox'>",toolTip:u.toolTip,field:"sel",width:u.width,resizable:!1,sortable:!1,cssClass:u.cssClass,formatter:a}}})}}})}(jQuery);