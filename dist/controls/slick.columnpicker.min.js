/**
 * SlickGrid v4.0.0-beta.0
 * (c) 2009-present Michael Leibman
 * homepage: http://github.com/mleibman/slickgrid
 * license: MIT
 * date: 2023-05-17
 * file: ./controls/slick.columnpicker.js
 */
!function(b){"use strict";Slick.Utils.extend(!0,b,{Slick:{Controls:{ColumnPicker:function(d,e,n){var c,m,p,h,k=e,C=n,f=e&&e.getUID?e.getUID():"",i=new Slick.Event,l=new Slick.BindingEventService,y={fadeSpeed:250,hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:function(e){return e.name}};function t(e){e.onHeaderContextMenu.subscribe(a),e.onColumnsReordered.subscribe(g),C=Slick.Utils.extend({},y,n),(p=document.createElement("div")).className="slick-columnpicker "+f,p.style.display="none",document.body.appendChild(p);var e=document.createElement("button"),t=(e.type="button",e.className="close",e.dataset.dismiss="slick-columnpicker",e.ariaLabel="Close",document.createElement("span"));t.className="close",t.ariaHidden="true",t.innerHTML="&times;",e.appendChild(t),p.appendChild(e),(C.columnPickerTitle||C.columnPicker&&C.columnPicker.columnTitle)&&(t=C.columnPickerTitle||C.columnPicker.columnTitle,(c=document.createElement("div")).className="slick-gridmenu-custom",c.textContent=t,p.appendChild(c)),l.bind(p,"click",s),(m=document.createElement("span")).className="slick-columnpicker-list",l.bind(document.body,"mousedown",r),l.bind(document.body,"beforeunload",o)}function o(){k.onHeaderContextMenu.unsubscribe(a),k.onColumnsReordered.unsubscribe(g),l.unbindAll(),m&&m.remove(),p&&p.remove()}function r(e){(p===e.target||p&&p.contains(e.target))&&"close"!==e.target.className||(p.setAttribute("aria-expanded","false"),p.style.display="none")}function a(e){e.preventDefault(),Slick.Utils.emptyElement(m),g(),h=[];let t,n,c;for(var i,l,o,r,a,s=0;s<d.length;s++)d[s].hidden||(t=d[s].id,c=d[s].excludeFromColumnPicker?"hidden":"",(i=document.createElement("li")).className=c,i.ariaLabel=d[s]&&d[s].name,(l=document.createElement("input")).type="checkbox",l.id=f+"colpicker-"+t,l.dataset.columnid=d[s].id,i.appendChild(l),h.push(l),null!=k.getColumnIndex(t)&&(l.checked=!0),n=(C&&C.columnPicker&&C.columnPicker.headerColumnValueExtractor?C.columnPicker:y).headerColumnValueExtractor(d[s],C),(l=document.createElement("label")).htmlFor=f+"colpicker-"+t,l.innerHTML=n,i.appendChild(l),m.appendChild(i));!C.columnPicker||C.columnPicker.hideForceFitButton&&C.columnPicker.hideSyncResizeButton||m.appendChild(document.createElement("hr")),C.columnPicker&&C.columnPicker.hideForceFitButton||(u=C.columnPicker&&C.columnPicker.forceFitTitle||C.forceFitTitle,(o=document.createElement("li")).ariaLabel=u,m.appendChild(o),(a=document.createElement("input")).type="checkbox",a.id=f+"colpicker-forcefit",a.dataset.option="autoresize",o.appendChild(a),(r=document.createElement("label")).htmlFor=f+"colpicker-forcefit",r.textContent=u,o.appendChild(r),k.getOptions().forceFitColumns&&(a.checked=!0)),C.columnPicker&&C.columnPicker.hideSyncResizeButton||(u=C.columnPicker&&C.columnPicker.syncResizeTitle||C.syncResizeTitle,(o=document.createElement("li")).ariaLabel=u,m.appendChild(o),(r=document.createElement("input")).type="checkbox",r.id=f+"colpicker-syncresize",r.dataset.option="syncresize",o.appendChild(r),(a=document.createElement("label")).htmlFor=f+"colpicker-syncresize",a.textContent=u,o.appendChild(a),k.getOptions().syncColumnCellResize&&(r.checked=!0));var u=e;u=u&&u.touches&&u.touches[0]||u,p.style.top=u.pageY-10+"px",p.style.left=u.pageX-10+"px",p.style.maxHeight=b.innerHeight-u.clientY+"px",p.style.display="block",p.setAttribute("aria-expanded","true"),p.appendChild(m)}function g(){var t=k.getColumns().slice(0),n=new Array(d.length);for(let e=0;e<n.length;e++)void 0===k.getColumnIndex(d[e].id)?n[e]=d[e]:n[e]=t.shift();d=n}function s(e){var t;if("autoresize"===e.target.dataset.option)c=u(),t=e.target.checked,k.setOptions({forceFitColumns:t}),k.setColumns(c);else if("syncresize"===e.target.dataset.option)e.target.checked?k.setOptions({syncColumnCellResize:!0}):k.setOptions({syncColumnCellResize:!1});else if("checkbox"===e.target.type){const t=e.target.checked;var c=e.target.dataset.columnid||"";let n=[];h.forEach((e,t)=>{e.checked&&n.push(d[t])}),n.length?(k.setColumns(n),i.notify({columnId:c,showing:t,allColumns:d,columns:n,grid:k})):e.target.checked=!0}}function u(){return k.getColumns()}return t(k),{init:t,getAllColumns:function(){return d},getVisibleColumns:u,destroy:o,updateAllTitles:function(e){c&&c.innerHTML&&(c.innerHTML=e.columnTitle)},onColumnsChanged:i}}}}})}(window);