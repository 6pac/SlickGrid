/**
 * SlickGrid v4.0.0
 * (c) 2009-present Michael Leibman
 * homepage: http://github.com/mleibman/slickgrid
 * license: MIT
 * date: 2023-06-28
 * file: ./controls/slick.columnpicker.js
 */
!function(x){"use strict";Slick.Utils.extend(!0,x,{Slick:{Controls:{ColumnPicker:function(a,e,n){var i,m,p,h,k=e,C=n,f=e&&e.getUID?e.getUID():"",c=new Slick.Event,l=new Slick.BindingEventService,g={fadeSpeed:250,hideForceFitButton:!1,hideSyncResizeButton:!1,forceFitTitle:"Force fit columns",syncResizeTitle:"Synchronous resize",headerColumnValueExtractor:function(e){return e.name}};function t(e){e.onHeaderContextMenu.subscribe(d),e.onColumnsReordered.subscribe(y),C=Slick.Utils.extend({},g,n),(p=document.createElement("div")).className="slick-columnpicker "+f,p.style.display="none",document.body.appendChild(p);var e=document.createElement("button"),t=(e.type="button",e.className="close",e.dataset.dismiss="slick-columnpicker",e.ariaLabel="Close",document.createElement("span"));t.className="close",t.ariaHidden="true",t.innerHTML="&times;",e.appendChild(t),p.appendChild(e),(C.columnPickerTitle||C.columnPicker&&C.columnPicker.columnTitle)&&(t=C.columnPickerTitle||C.columnPicker.columnTitle,(i=document.createElement("div")).className="slick-gridmenu-custom",i.textContent=t,p.appendChild(i)),l.bind(p,"click",u),(m=document.createElement("span")).className="slick-columnpicker-list",l.bind(document.body,"mousedown",r),l.bind(document.body,"beforeunload",o)}function o(){k.onHeaderContextMenu.unsubscribe(d),k.onColumnsReordered.unsubscribe(y),l.unbindAll(),m&&m.remove(),p&&p.remove()}function r(e){(p===e.target||p&&p.contains(e.target))&&"close"!==e.target.className||(p.setAttribute("aria-expanded","false"),p.style.display="none")}function d(e){e.preventDefault(),Slick.Utils.emptyElement(m),y(),h=[];let t,n,i;for(var l,c,o,r=0;r<a.length;r++){t=a[r].id,i=a[r].excludeFromColumnPicker?"hidden":"";var d=document.createElement("li"),u=(d.className=i,d.ariaLabel=a[r]&&a[r].name,document.createElement("input")),u=(u.type="checkbox",u.id=f+"colpicker-"+t,u.dataset.columnid=a[r].id,d.appendChild(u),h.push(u),null==k.getColumnIndex(t)||a[r].hidden||(u.checked=!0),n=(C&&C.columnPicker&&C.columnPicker.headerColumnValueExtractor?C.columnPicker:g).headerColumnValueExtractor(a[r],C),document.createElement("label"));u.htmlFor=f+"colpicker-"+t,u.innerHTML=n,d.appendChild(u),m.appendChild(d)}!C.columnPicker||C.columnPicker.hideForceFitButton&&C.columnPicker.hideSyncResizeButton||m.appendChild(document.createElement("hr")),C.columnPicker&&C.columnPicker.hideForceFitButton||(s=C.columnPicker&&C.columnPicker.forceFitTitle||C.forceFitTitle,(l=document.createElement("li")).ariaLabel=s,m.appendChild(l),(o=document.createElement("input")).type="checkbox",o.id=f+"colpicker-forcefit",o.dataset.option="autoresize",l.appendChild(o),(c=document.createElement("label")).htmlFor=f+"colpicker-forcefit",c.textContent=s,l.appendChild(c),k.getOptions().forceFitColumns&&(o.checked=!0)),C.columnPicker&&C.columnPicker.hideSyncResizeButton||(s=C.columnPicker&&C.columnPicker.syncResizeTitle||C.syncResizeTitle,(l=document.createElement("li")).ariaLabel=s,m.appendChild(l),(c=document.createElement("input")).type="checkbox",c.id=f+"colpicker-syncresize",c.dataset.option="syncresize",l.appendChild(c),(o=document.createElement("label")).htmlFor=f+"colpicker-syncresize",o.textContent=s,l.appendChild(o),k.getOptions().syncColumnCellResize&&(c.checked=!0));var s=e;s=s&&s.touches&&s.touches[0]||s,p.style.top=s.pageY-10+"px",p.style.left=s.pageX-10+"px",p.style.maxHeight=x.innerHeight-s.clientY+"px",p.style.display="block",p.setAttribute("aria-expanded","true"),p.appendChild(m)}function y(){var t=k.getColumns().slice(0),n=new Array(a.length);for(let e=0;e<n.length;e++)void 0===k.getColumnIndex(a[e].id)?n[e]=a[e]:n[e]=t.shift();a=n}function u(e){var t;if("autoresize"===e.target.dataset.option)i=b(),t=e.target.checked,k.setOptions({forceFitColumns:t}),k.setColumns(i);else if("syncresize"===e.target.dataset.option)e.target.checked?k.setOptions({syncColumnCellResize:!0}):k.setOptions({syncColumnCellResize:!1});else if("checkbox"===e.target.type){const t=e.target.checked;var i=e.target.dataset.columnid||"";let n=[];h.forEach((e,t)=>{void 0!==a[t].hidden&&(a[t].hidden=!e.checked),e.checked&&n.push(a[t])}),n.length?(k.setColumns(n),c.notify({columnId:i,showing:t,allColumns:a,columns:n,grid:k})):e.target.checked=!0}}function s(t){for(let e=0;e<a.length;e++)if(a[e].id===t)return e;return-1}function b(){return k.getColumns()}return t(k),{init:t,getAllColumns:function(){return a},getColumnbyId:function(t){for(let e=0;e<a.length;e++)if(a[e].id===t)return a[e];return null},getColumnIndexbyId:s,getVisibleColumns:b,destroy:o,updateAllTitles:function(e){i&&i.innerHTML&&(i.innerHTML=e.columnTitle)},onColumnsChanged:c,setColumnVisibiliy:function(e,t){var e="number"==typeof e?e:s(e),n=(k.getColumnIndex(a[e].id),b()),i=a[e];if(t)i.hidden=!1,n.splice(e,0,i);else{var l=[];for(let e=0;e<n.length;e++)n[e].id!==i.id&&l.push(n[e]);n=l}k.setColumns(n),c.notify({columnId:i.id,showing:t,allColumns:a,columns:n,grid:k})}}}}}})}(window);