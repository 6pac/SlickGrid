/**
 * SlickGrid v4.0.0
 * (c) 2009-present Michael Leibman
 * homepage: http://github.com/mleibman/slickgrid
 * license: MIT
 * date: 2023-06-28
 * file: ./slick.editors.js
 */
!function(e){const u=Slick.Utils;function l(i){var n,t,e,o=this;function a(){var e=i.column.editorFixedDecimalPlaces;return(e=void 0===e?l.DefaultDecimalPlaces:e)||0===e?e:null}this.args=i,this.init=function(){e=i.grid.getOptions().editorCellNavOnLRKeys,(n=u.createDomElement("input",{type:"text",className:"editor-text"},i.container)).addEventListener("keydown.nav",e?s:r),n.focus(),n.select(),i.compositeEditorOptions&&n.addEventListener("change",this.onChange)},this.onChange=function(){var e=i.grid.getActiveCell();o.validate().valid&&o.applyValue(o.args.item,o.serializeValue()),o.applyValue(o.args.compositeEditorOptions.formValues,o.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:o.args.item,column:o.args.column,formValues:o.args.compositeEditorOptions.formValues})},this.destroy=function(){n.removeEventListener("keydown.nav",e?s:r),n.removeEventListener("change",this.onChange),n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){t=e[i.column.field];e=a();null!==e&&(t||0===t)&&t.toFixed&&(t=t.toFixed(e)),n.value=t,n.defaultValue=t,n.select()},this.serializeValue=function(){var e=parseFloat(n.value),t=(l.AllowEmptyValue?e||0===e||(e=""):e=e||0,a());return e=null!==t&&(e||0===e)&&e.toFixed?parseFloat(e.toFixed(t)):e},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===n.value&&null==t)&&n.value!=t},this.validate=function(){if(isNaN(n.value))return{valid:!1,msg:"Please enter a valid number"};if(i.column.validator){var e=i.column.validator(n.value,i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function s(e){var t=this.selectionStart,i=this.value.length;(e.keyCode===Slick.keyCode.LEFT&&0<t||e.keyCode===Slick.keyCode.RIGHT&&t<i-1)&&e.stopImmediatePropagation()}function r(e){e.keyCode!==Slick.keyCode.LEFT&&e.keyCode!==Slick.keyCode.RIGHT||e.stopImmediatePropagation()}l.DefaultDecimalPlaces=null,l.AllowEmptyValue=!1,Slick.Utils.extend(!0,e,{Slick:{Editors:{Text:function(i){var t,n,e,o=this;this.args=i,this.init=function(){e=i.grid.getOptions().editorCellNavOnLRKeys,(t=u.createDomElement("input",{type:"text",className:"editor-text"},i.container)).addEventListener("keydown.nav",e?s:r),t.focus(),t.select(),i.compositeEditorOptions&&t.addEventListener("change",this.onChange)},this.onChange=function(){var e=i.grid.getActiveCell();o.validate().valid&&o.applyValue(o.args.item,o.serializeValue()),o.applyValue(o.args.compositeEditorOptions.formValues,o.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:o.args.item,column:o.args.column,formValues:o.args.compositeEditorOptions.formValues})},this.destroy=function(){t.removeEventListener("keydown.nav",e?s:r),t.removeEventListener("change",this.onChange),t.remove()},this.focus=function(){t.focus()},this.getValue=function(){return t.value},this.setValue=function(e){t.value=e},this.loadValue=function(e){n=e[i.column.field]||"",t.value=n,t.defaultValue=n,t.select()},this.serializeValue=function(){return t.value},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===t.value&&null==n)&&t.value!=n},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.value,i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Integer:function(i){var t,n,e,o=this;this.args=i,this.init=function(){e=i.grid.getOptions().editorCellNavOnLRKeys,(t=u.createDomElement("input",{type:"text",className:"editor-text"},i.container)).addEventListener("keydown.nav",e?s:r),t.focus(),t.select(),i.compositeEditorOptions&&t.addEventListener("change",this.onChange)},this.onChange=function(){var e=i.grid.getActiveCell();o.validate().valid&&o.applyValue(o.args.item,o.serializeValue()),o.applyValue(o.args.compositeEditorOptions.formValues,o.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:o.args.item,column:o.args.column,formValues:o.args.compositeEditorOptions.formValues})},this.destroy=function(){t.removeEventListener("keydown.nav",e?s:r),t.removeEventListener("change",this.onChange),t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){n=e[i.column.field],t.value=n,t.defaultValue=n,t.select()},this.serializeValue=function(){return parseInt(t.value,10)||0},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===t.value&&null==n)&&t.value!=n},this.validate=function(){if(isNaN(t.value))return{valid:!1,msg:"Please enter a valid integer"};if(i.column.validator){var e=i.column.validator(t.value,i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},Float:l,Flatpickr:function(i){if("undefined"==typeof flatpickr)throw new Error("Flatpickr not loaded but required in SlickGrid.Editors, refer to Flatpickr documentation: https://flatpickr.js.org/getting-started/");var t,n,o,a=this;this.args=i,this.init=function(){(t=u.createDomElement("input",{type:"text",className:"editor-text"},i.container)).focus(),t.select(),o=flatpickr(t,{closeOnSelect:!0,allowInput:!0,altInput:!0,altFormat:"m/d/Y",dateFormat:"m/d/Y",onChange:()=>{var e;i.compositeEditorOptions&&(e=i.grid.getActiveCell(),a.validate().valid&&a.applyValue(a.args.item,a.serializeValue()),a.applyValue(a.args.compositeEditorOptions.formValues,a.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:a.args.item,column:a.args.column,formValues:a.args.compositeEditorOptions.formValues}))}}),i.compositeEditorOptions||setTimeout(()=>{a.show(),a.focus()},50),u.width(t,u.width(t)-(i.compositeEditorOptions?28:18))},this.destroy=function(){a.hide(),o&&o.destroy(),t.remove()},this.show=function(){!i.compositeEditorOptions&&o&&o.open()},this.hide=function(){!i.compositeEditorOptions&&o&&o.close()},this.focus=function(){t.focus()},this.loadValue=function(e){n=e[i.column.field],t.value=n,t.defaultValue=n,t.select(),o&&o.setDate(n)},this.serializeValue=function(){return t.value},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===t.value&&null==n)&&t.value!=n},this.validate=function(){if(i.column.validator){var e=i.column.validator(t.value,i);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()},YesNoSelect:function(i){var t,n,o=this;this.args=i,this.init=function(){t=u.createDomElement("select",{tabIndex:0,className:"editor-yesno"},i.container),u.createDomElement("option",{value:"yes",textContent:"Yes"},t),u.createDomElement("option",{value:"no",textContent:"No"},t),t.focus(),i.compositeEditorOptions&&t.addEventListener("change",this.onChange)},this.onChange=function(){var e=i.grid.getActiveCell();o.validate().valid&&o.applyValue(o.args.item,o.serializeValue()),o.applyValue(o.args.compositeEditorOptions.formValues,o.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:o.args.item,column:o.args.column,formValues:o.args.compositeEditorOptions.formValues})},this.destroy=function(){t.removeEventListener("change",this.onChange),t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){t.value=(n=e[i.column.field])?"yes":"no"},this.serializeValue=function(){return"yes"==t.value},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return t.value!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()},Checkbox:function(i){var t,n,o=this;this.args=i,this.init=function(){(t=u.createDomElement("input",{className:"editor-checkbox",type:"checkbox",value:"true"},i.container)).focus(),i.compositeEditorOptions&&t.addEventListener("change",this.onChange)},this.onChange=function(){var e=i.grid.getActiveCell();o.validate().valid&&o.applyValue(o.args.item,o.serializeValue()),o.applyValue(o.args.compositeEditorOptions.formValues,o.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:o.args.item,column:o.args.column,formValues:o.args.compositeEditorOptions.formValues})},this.destroy=function(){t.removeEventListener("change",this.onChange),t.remove()},this.focus=function(){t.focus()},this.loadValue=function(e){n=!!e[i.column.field],t.checked=!!n},this.serializeValue=function(){return t.checked},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){return{valid:!0,msg:null}},this.init()},PercentComplete:function(i){function t(){o.value=this.value}function n(){var e;i.compositeEditorOptions&&(e=i.grid.getActiveCell(),r.validate().valid&&r.applyValue(r.args.item,r.serializeValue()),r.applyValue(r.args.compositeEditorOptions.formValues,r.serializeValue()),i.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:r.args.item,column:r.args.column,formValues:r.args.compositeEditorOptions.formValues}))}var o,a,l,s,r=this;this.args=i,this.init=function(){o=u.createDomElement("input",{className:"editor-percentcomplete",type:"text"},i.container),u.width(o,i.container.clientWidth-25),a=u.createDomElement("div",{className:"editor-percentcomplete-picker"},i.container);var e=u.createDomElement("div",{className:"editor-percentcomplete-helper"},a),e=u.createDomElement("div",{className:"editor-percentcomplete-wrapper"},e),e=(u.createDomElement("div",{className:"editor-percentcomplete-slider"},e),u.createDomElement("input",{className:"editor-percentcomplete-slider",type:"range"},e),u.createDomElement("div",{className:"editor-percentcomplete-buttons"},e)),e=(u.createDomElement("button",{value:"0",textContent:"Not started"},e),e.appendChild(document.createElement("br")),u.createDomElement("button",{value:"50",textContent:"In Progress"},e),e.appendChild(document.createElement("br")),u.createDomElement("button",{value:"100",textContent:"Complete"},e),o.focus(),o.select(),(s=a.querySelector("input.editor-percentcomplete-slider")).value=l,s.addEventListener("input",t),s.addEventListener("change",n),a.querySelectorAll(".editor-percentcomplete-buttons button"));[].forEach.call(e,e=>{e.addEventListener("click",this.onClick)})},this.onClick=function(){o.value=this.value,s.value=this.value},this.destroy=function(){s.removeEventListener("input",t),s.removeEventListener("change",n),a.querySelectorAll(".editor-percentcomplete-buttons button").forEach(e=>e.removeEventListener("click",this.onClick)),o.remove(),a.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){l=e[i.column.field],s.value=l,o.value=l,o.select()},this.serializeValue=function(){return parseInt(o.value,10)||0},this.applyValue=function(e,t){e[i.column.field]=t},this.isValueChanged=function(){return!(""===o.value&&null==l)&&(parseInt(o.value,10)||0)!=l},this.validate=function(){return isNaN(parseInt(o.value,10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()},LongText:function(n){var i,o,t,a=this;this.args=n,this.init=function(){var e=n.compositeEditorOptions,t=(n.grid.getOptions().editorCellNavOnLRKeys,e?n.container:document.body);o=u.createDomElement("div",{className:"slick-large-editor-text",style:{zIndex:1e4,background:"white",padding:"5px",border:"3px solid gray",borderRadius:"10px"}},t),e?(o.style.position="relative",u.setStyleSize(o,"padding",0),u.setStyleSize(o,"border",0)):o.style.position="absolute",i=u.createDomElement("textarea",{rows:5,style:{background:"white",width:"250px",height:"80px",border:"0",outline:"0"}},o),e?i.addEventListener("change",this.onChange):(t=u.createDomElement("div",{style:"text-align:right"},o),u.createDomElement("button",{id:"save",textContent:"Save"},t),u.createDomElement("button",{id:"cancel",textContent:"Cancel"},t),o.querySelector("#save").addEventListener("click",this.save),o.querySelector("#cancel").addEventListener("click",this.cancel),i.addEventListener("keydown",this.handleKeyDown),a.position(n.position)),i.focus(),i.select()},this.onChange=function(){var e=n.grid.getActiveCell();a.validate().valid&&a.applyValue(a.args.item,a.serializeValue()),a.applyValue(a.args.compositeEditorOptions.formValues,a.serializeValue()),n.grid.onCompositeEditorChange.notify({row:e.row,cell:e.cell,item:a.args.item,column:a.args.column,formValues:a.args.compositeEditorOptions.formValues})},this.handleKeyDown=function(e){var t,i;e.which==Slick.keyCode.ENTER&&e.ctrlKey?a.save():e.which==Slick.keyCode.ESCAPE?(e.preventDefault(),a.cancel()):e.which==Slick.keyCode.TAB&&e.shiftKey?(e.preventDefault(),n.grid.navigatePrev()):e.which==Slick.keyCode.TAB?(e.preventDefault(),n.grid.navigateNext()):e.which!=Slick.keyCode.LEFT&&e.which!=Slick.keyCode.RIGHT||n.grid.getOptions().editorCellNavOnLRKeys&&(t=this.selectionStart,i=this.value.length,e.keyCode===Slick.keyCode.LEFT&&0===t&&n.grid.navigatePrev(),e.keyCode===Slick.keyCode.RIGHT)&&i-1<=t&&n.grid.navigateNext()},this.save=function(){(n.grid.getOptions()||{}).autoCommitEdit?n.grid.getEditorLock().commitCurrentEdit():n.commitChanges()},this.cancel=function(){i.value=t,n.cancelChanges()},this.hide=function(){u.hide(o)},this.show=function(){u.show(o)},this.position=function(e){u.setStyleSize(o,"top",e.top-5),u.setStyleSize(o,"left",e.left-2)},this.destroy=function(){n.compositeEditorOptions?i.removeEventListener("change",this.onChange):(o.querySelector("#save").removeEventListener("click",this.save),o.querySelector("#cancel").removeEventListener("click",this.cancel),i.removeEventListener("keydown",this.handleKeyDown)),o.remove()},this.focus=function(){i.focus()},this.loadValue=function(e){i.value=t=e[n.column.field],i.select()},this.serializeValue=function(){return i.value},this.applyValue=function(e,t){e[n.column.field]=t},this.isValueChanged=function(){return!(""===i.value&&null==t)&&i.value!=t},this.validate=function(){if(n.column.validator){var e=n.column.validator(i.value,n);if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}}}})}(window);