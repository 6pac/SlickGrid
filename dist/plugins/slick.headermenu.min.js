/**
 * SlickGrid v4.0.1
 * (c) 2009-present Michael Leibman
 * homepage: http://github.com/mleibman/slickgrid
 * license: MIT
 * date: 2023-06-30
 * file: ./plugins/slick.headermenu.js
 */
!function(e){Slick.Utils.extend(!0,e,{Slick:{Plugins:{HeaderMenu:function(f){var h,p,v,b=this,t=new Slick.EventHandler,g=new Slick.BindingEventService,i={buttonCssClass:null,buttonImage:null,minWidth:100,autoAlign:!0,autoAlignOffset:0};function l(){v&&(v.remove(),v=void 0),p&&p.classList.remove("slick-header-column-active")}function n(e,t){var i=t.column,n=i.header&&i.header.menu;n&&C(f.menuUsabilityOverride,t)&&((i=document.createElement("div")).className="slick-header-menubutton",i.ariaLabel="Header Menu",i.role="button",f.buttonCssClass&&i.classList.add(...f.buttonCssClass.split(" ")),f.buttonImage&&(i.style.backgroundImage="url("+f.buttonImage+")"),f.tooltip&&(i.title=f.tooltip),g.bind(i,"click",e=>function(t,i,n){var l={grid:h,column:n,menu:i};if(0!=b.onBeforeMenuShow.notify(l,t,b).getReturnValue()){!v&&((v=document.createElement("div")).className="slick-header-menu",v.role="menu",v.style.minWidth=f.minWidth+"px",v.setAttribute("aria-expanded","true"),r=h.getContainerNode())&&r.appendChild(v),Slick.Utils.emptyElement(v);for(var s=0;s<i.items.length;s++){var a=i.items[s],o=C(a.itemVisibilityOverride,l),d=C(a.itemUsabilityOverride,l);o&&(Object.prototype.hasOwnProperty.call(a,"itemUsabilityOverride")&&(a.disabled=!d),(o=document.createElement("div")).className="slick-header-menuitem",o.role="menuitem",a.divider||"divider"===a?o.classList.add("slick-header-menuitem-divider"):(a.disabled&&o.classList.add("slick-header-menuitem-disabled"),a.hidden&&o.classList.add("slick-header-menuitem-hidden"),a.cssClass&&o.classList.add(...a.cssClass.split(" ")),a.tooltip&&(o.title=a.tooltip),(d=document.createElement("div")).className="slick-header-menuicon",o.appendChild(d),a.iconCssClass&&d.classList.add(...a.iconCssClass.split(" ")),a.iconImage&&(d.style.backgroundImage="url("+a.iconImage+")"),(d=document.createElement("span")).className="slick-header-menucontent",d.textContent=a.title,o.appendChild(d),a.textCssClass&&d.classList.add(...a.textCssClass.split(" ")),v.appendChild(o),g.bind(o,"click",k.bind(this,a,n))))}var c,r=t.target,u=Slick.Utils.offset(r),m=Slick.Utils.offset(v);let e=u&&u.left||0;f.autoAlign&&(c=h.getGridPosition(),e+v.offsetWidth>=c.width)&&(e=e+r.clientWidth-v.clientWidth+(f.autoAlignOffset||0)),v.style.top=(r.clientHeight||u&&u.top||0)+(f&&f.menuOffsetTop||0)+"px",v.style.left=e-m.left+"px",(p=v.closest(".slick-header-column"))&&p.classList.add("slick-header-column-active"),0!=b.onAfterMenuShow.notify(l,t,b).getReturnValue()&&(t.preventDefault(),t.stopPropagation())}}(e,n,t.column)),t.node.appendChild(i))}function s(e,t){var i=t.column;i.header&&i.header.menu&&t.node.querySelectorAll(".slick-header-menubutton").forEach(e=>e.remove())}function k(e,t,i){var n=e.command||"";if(e.disabled||e.divider||"divider"===e)return!1;null!=n&&""!==n&&(t={grid:h,column:t,command:n,item:e},b.onCommand.notify(t,i,b),"function"==typeof e.action)&&e.action.call(this,i,t),i.defaultPrevented||l(),i.preventDefault(),i.stopPropagation()}function C(e,t){return"function"!=typeof e||e.call(this,t)}Slick.Utils.extend(this,{init:function(e){f=Slick.Utils.extend(!0,{},i,f),h=e,t.subscribe(h.onHeaderCellRendered,n).subscribe(h.onBeforeHeaderCellDestroy,s),h.setColumns(h.getColumns()),g.bind(document.body,"mousedown",function(e){(v===e.target||v&&v.contains(e.target))&&"close"!==e.target.className||l()}.bind(this))},destroy:function(){var e;t.unsubscribeAll(),g.unbindAll(),(v=v||document.body.querySelector(".slick-header-menu"+((e=h.getUID()||"")?"."+e:"")))&&v.remove(),p=void 0},pluginName:"HeaderMenu",setOptions:function(e){f=Slick.Utils.extend(!0,{},f,e)},onAfterMenuShow:new Slick.Event,onBeforeMenuShow:new Slick.Event,onCommand:new Slick.Event})}}}})}(window);