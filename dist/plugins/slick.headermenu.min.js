/**
 * SlickGrid v4.0.0
 * (c) 2009-present Michael Leibman
 * homepage: http://github.com/mleibman/slickgrid
 * license: MIT
 * date: 2023-05-28
 * file: ./plugins/slick.headermenu.js
 */
!function(e){Slick.Utils.extend(!0,e,{Slick:{Plugins:{HeaderMenu:function(f){var h,v,b,p=this,t=new Slick.EventHandler,g=new Slick.BindingEventService,i={buttonCssClass:null,buttonImage:null,minWidth:100,autoAlign:!0,autoAlignOffset:0};function l(){b&&(b.remove(),b=void 0),v&&v.classList.remove("slick-header-column-active")}function n(e,t){var i=t.column,n=i.header&&i.header.menu;n&&C(f.menuUsabilityOverride,t)&&((i=document.createElement("div")).className="slick-header-menubutton",i.ariaLabel="Header Menu",i.role="button",f.buttonCssClass&&i.classList.add(f.buttonCssClass),f.buttonImage&&(i.style.backgroundImage="url("+f.buttonImage+")"),f.tooltip&&(i.title=f.tooltip),g.bind(i,"click",e=>function(t,i,n){var l={grid:h,column:n,menu:i};if(0!=p.onBeforeMenuShow.notify(l,t,p).getReturnValue()){!b&&((b=document.createElement("div")).className="slick-header-menu",b.role="menu",b.style.minWidth=f.minWidth+"px",b.setAttribute("aria-expanded","true"),r=h.getContainerNode())&&r.appendChild(b),Slick.Utils.emptyElement(this._menuElm);for(var s=0;s<i.items.length;s++){var a=i.items[s],o=C(a.itemVisibilityOverride,l),d=C(a.itemUsabilityOverride,l);o&&(Object.prototype.hasOwnProperty.call(a,"itemUsabilityOverride")&&(a.disabled=!d),(o=document.createElement("div")).className="slick-header-menuitem",o.role="menuitem",a.divider||"divider"===a?o.classList.add("slick-header-menuitem-divider"):(a.disabled&&o.classList.add("slick-header-menuitem-disabled"),a.hidden&&o.classList.add("slick-header-menuitem-hidden"),a.cssClass&&o.classList.add(a.cssClass),a.tooltip&&(o.title=a.tooltip),(d=document.createElement("div")).className="slick-header-menuicon",o.appendChild(d),a.iconCssClass&&d.classList.add(a.iconCssClass),a.iconImage&&(d.style.backgroundImage="url("+a.iconImage+")"),(d=document.createElement("span")).className="slick-header-menucontent",d.textContent=a.title,o.appendChild(d),a.textCssClass&&d.classList.add(a.textCssClass),b.appendChild(o),g.bind(o,"click",k.bind(this,a,n))))}var c,r=t.target,u=Slick.Utils.offset(r),m=Slick.Utils.offset(b);let e=u&&u.left||0;f.autoAlign&&(c=h.getGridPosition(),e+b.offsetWidth>=c.width)&&(e=e+r.clientWidth-b.clientWidth+(f.autoAlignOffset||0)),b.style.top=(r.clientHeight||u&&u.top||0)+(f&&f.menuOffsetTop||0)+"px",b.style.left=e-m.left+"px",(v=b.closest(".slick-header-column"))&&v.classList.add("slick-header-column-active"),0!=p.onAfterMenuShow.notify(l,t,p).getReturnValue()&&(t.preventDefault(),t.stopPropagation())}}(e,n,t.column)),t.node.appendChild(i))}function s(e,t){var i=t.column;i.header&&i.header.menu&&t.node.querySelectorAll(".slick-header-menubutton").forEach(e=>e.remove())}function k(e,t,i){var n=e.command||"";if(e.disabled||e.divider||"divider"===e)return!1;null!=n&&""!==n&&(t={grid:h,column:t,command:n,item:e},p.onCommand.notify(t,i,p),"function"==typeof e.action)&&e.action.call(this,i,t),i.defaultPrevented||l(),i.preventDefault(),i.stopPropagation()}function C(e,t){return"function"!=typeof e||e.call(this,t)}Slick.Utils.extend(this,{init:function(e){f=Slick.Utils.extend(!0,{},i,f),h=e,t.subscribe(h.onHeaderCellRendered,n).subscribe(h.onBeforeHeaderCellDestroy,s),h.setColumns(h.getColumns()),g.bind(document.body,"mousedown",function(e){(b===e.target||b&&b.contains(e.target))&&"close"!==e.target.className||l()}.bind(this))},destroy:function(){var e;t.unsubscribeAll(),g.unbindAll(),(b=b||document.body.querySelector(".slick-header-menu"+((e=h.getUID()||"")?"."+e:"")))&&b.remove(),v=void 0},pluginName:"HeaderMenu",setOptions:function(e){f=Slick.Utils.extend(!0,{},f,e)},onAfterMenuShow:new Slick.Event,onBeforeMenuShow:new Slick.Event,onCommand:new Slick.Event})}}}})}(window);